  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (41.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test"[0m
  [1m[35m (140.7ms)[0m  [1m[35mCREATE DATABASE "widgets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:05:18.615503"], ["updated_at", "2020-12-13 17:05:18.615503"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c9ad1dbaa05acea2eb44861d1fdc691e622f5dd5"], ["created_at", "2020-12-13 17:05:18.623433"], ["updated_at", "2020-12-13 17:05:18.623433"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (98.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-1"[0m
  [1m[35m (84.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-2"[0m
  [1m[35m (93.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-3"[0m
  [1m[35m (96.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-0"[0m
  [1m[35m (328.8ms)[0m  [1m[35mCREATE DATABASE "widgets_test-2" ENCODING = 'utf8'[0m
  [1m[35m (345.0ms)[0m  [1m[35mCREATE DATABASE "widgets_test-1" ENCODING = 'utf8'[0m
  [1m[35m (357.4ms)[0m  [1m[35mCREATE DATABASE "widgets_test-3" ENCODING = 'utf8'[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (378.3ms)[0m  [1m[35mCREATE DATABASE "widgets_test-0" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (21.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:05:46.921168"], ["updated_at", "2020-12-13 17:05:46.921168"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (3.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:05:46.938597"], ["updated_at", "2020-12-13 17:05:46.938597"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c9ad1dbaa05acea2eb44861d1fdc691e622f5dd5"], ["created_at", "2020-12-13 17:05:46.943765"], ["updated_at", "2020-12-13 17:05:46.943765"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:05:46.945484"], ["updated_at", "2020-12-13 17:05:46.945484"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c9ad1dbaa05acea2eb44861d1fdc691e622f5dd5"], ["created_at", "2020-12-13 17:05:46.956288"], ["updated_at", "2020-12-13 17:05:46.956288"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c9ad1dbaa05acea2eb44861d1fdc691e622f5dd5"], ["created_at", "2020-12-13 17:05:46.961827"], ["updated_at", "2020-12-13 17:05:46.961827"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:05:46.965471"], ["updated_at", "2020-12-13 17:05:46.965471"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c9ad1dbaa05acea2eb44861d1fdc691e622f5dd5"], ["created_at", "2020-12-13 17:05:46.983748"], ["updated_at", "2020-12-13 17:05:46.983748"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ApplicationHelperTest: test_styled_widget_id
--------------------------------------------
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_with_CTA
------------------------------------------------------------
--------------------------------------------
ApplicationHelperTest: test_styled_widget_id
--------------------------------------------
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_without_CTA
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_with_CTA
------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_without_CTA
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ApplicationHelperTest: test_styled_widget_id
--------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /root/widgets/public/packs-test
[Webpacker] Hash: 8daa2c4abff3632efaaa
Version: webpack 4.44.2
Time: 1144ms
Built at: 12/13/2020 5:11:04 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-eccb5a9f09c4690b24d8.js    127 KiB  application  [emitted] [immutable]  application
js/application-eccb5a9f09c4690b24d8.js.map    140 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-eccb5a9f09c4690b24d8.js js/application-eccb5a9f09c4690b24d8.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 845 bytes {application} [built]
[./app/javascript/widget_ratings/index.js] 971 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=3067.14 view=3059.34 db=0.00
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1 format=html controller=WidgetsController action=show status=200 duration=11.65 view=9.81 db=0.00
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=135.24 view=126.55 db=0.00
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1 format=html controller=WidgetsController action=show status=200 duration=6.27 view=5.39 db=0.00
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=104.53 view=96.92 db=0.00
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1234 format=html controller=WidgetsController action=show status=200 duration=6.51 view=5.77 db=0.00
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=117.64 view=109.98 db=0.00
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1234 format=html controller=WidgetsController action=show status=200 duration=8.32 view=6.97 db=0.00
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=116.13 view=106.94 db=0.00
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1234 format=html controller=WidgetsController action=show status=200 duration=5.72 view=4.95 db=0.00
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
RateWidgetsTest: test_rating_a_widget_shows_our_rating_inline
-------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1234 format=html controller=WidgetsController action=show status=200 duration=164.00 view=152.15 db=0.00
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (41.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test"[0m
  [1m[35m (172.5ms)[0m  [1m[35mCREATE DATABASE "widgets_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:12:19.194302"], ["updated_at", "2020-12-13 17:12:19.194302"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c9ad1dbaa05acea2eb44861d1fdc691e622f5dd5"], ["created_at", "2020-12-13 17:12:19.203768"], ["updated_at", "2020-12-13 17:12:19.203768"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (44.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test"[0m
  [1m[35m (155.8ms)[0m  [1m[35mCREATE DATABASE "widgets_test" ENCODING = 'utf8'[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:13:09.836395"], ["updated_at", "2020-12-13 17:13:09.836395"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "fdc171aa90b0711be012d24fb81fb237c39fc753"], ["created_at", "2020-12-13 17:13:09.844883"], ["updated_at", "2020-12-13 17:13:09.844883"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6009960348311478300)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to MakeWidgetAndManufacturers (20210101000000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "widget_statuses" ("id" bigserial primary key, "name" text NOT NULL, "created_at" timestamptz(6) NOT NULL, "updated_at" timestamptz(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON TABLE "widget_statuses" IS 'List of definitive widget statuses'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "widget_statuses"."name" IS 'The name of the status'[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_widget_statuses_on_name" ON "widget_statuses" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON INDEX "index_widget_statuses_on_name" IS 'No two widget statuses should have the same name'[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street" text NOT NULL, "zip" text NOT NULL, "created_at" timestamptz(6) NOT NULL, "updated_at" timestamptz(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON TABLE "addresses" IS 'Addresses for manufacturers'[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON COLUMN "addresses"."street" IS 'Street part of the address'[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON COLUMN "addresses"."zip" IS 'Postal or zip code of this address'[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101000000"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(6009960348311478300)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6009960348311478300)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to MakeWidgetAndManufacturers (20210101000000)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_widget_statuses_on_name"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "widget_statuses"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20210101000000"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(6009960348311478300)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6009960348311478300)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to MakeWidgetAndManufacturers (20210101000000)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.0ms)[0m  [1m[35mCREATE TABLE "widget_statuses" ("id" bigserial primary key, "name" text NOT NULL, "created_at" timestamptz(6) NOT NULL, "updated_at" timestamptz(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMENT ON TABLE "widget_statuses" IS 'List of definitive widget statuses'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "widget_statuses"."name" IS 'The name of the status'[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_widget_statuses_on_name" ON "widget_statuses" ("name")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON INDEX "index_widget_statuses_on_name" IS 'No two widget statuses should have the same name'[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street" text NOT NULL, "zip" text NOT NULL, "created_at" timestamptz(6) NOT NULL, "updated_at" timestamptz(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON TABLE "addresses" IS 'Addresses for manufacturers'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "addresses"."street" IS 'Street part of the address'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "addresses"."zip" IS 'Postal or zip code of this address'[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "manufacturers" ("id" bigserial primary key, "name" text NOT NULL, "address_id" bigint NOT NULL, "created_at" timestamptz(6) NOT NULL, "updated_at" timestamptz(6) NOT NULL, CONSTRAINT "fk_rails_413f677ef3"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
)[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE INDEX "index_manufacturers_on_address_id" ON "manufacturers" ("address_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON TABLE "manufacturers" IS 'Makers of the widgets we sell'[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON COLUMN "manufacturers"."name" IS 'Name of this manufacturer'[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON COLUMN "manufacturers"."address_id" IS 'The address of this manufacturer'[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_manufacturers_on_name" ON "manufacturers" ("name")[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "widgets" ("id" bigserial primary key, "name" text NOT NULL, "price_cents" integer NOT NULL, "widget_status_id" bigint NOT NULL, "manufacturer_id" bigint NOT NULL, "created_at" timestamptz(6) NOT NULL, "updated_at" timestamptz(6) NOT NULL, CONSTRAINT "fk_rails_eb3d987080"
FOREIGN KEY ("widget_status_id")
  REFERENCES "widget_statuses" ("id")
, CONSTRAINT "fk_rails_c844384a2b"
FOREIGN KEY ("manufacturer_id")
  REFERENCES "manufacturers" ("id")
)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_widgets_on_widget_status_id" ON "widgets" ("widget_status_id")[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_widgets_on_manufacturer_id" ON "widgets" ("manufacturer_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON TABLE "widgets" IS 'The stuff we sell'[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON COLUMN "widgets"."name" IS 'Name of this widget'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "widgets"."price_cents" IS 'Price of this widget in cents'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMENT ON COLUMN "widgets"."widget_status_id" IS 'The current status of this widget'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "widgets"."manufacturer_id" IS 'The maker of this widget'[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_widgets_on_name_and_manufacturer_id" ON "widgets" ("name", "manufacturer_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON INDEX "index_widgets_on_name_and_manufacturer_id" IS 'No manufacturer can have two widgets with the same name'[0m
  [1m[35m (1.0ms)[0m  [1m[35m
          ALTER TABLE
            widgets
          ADD CONSTRAINT
            price_must_be_positive
          CHECK (
            price_cents > 0
          )
        [0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210101000000"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(6009960348311478300)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (74.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test"[0m
  [1m[35m (162.4ms)[0m  [1m[35mCREATE DATABASE "widgets_test" ENCODING = 'utf8'[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:13:45.528713"], ["updated_at", "2020-12-13 17:13:45.528713"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c1001024a507be588e1641482612c201a260688b"], ["created_at", "2020-12-13 17:13:45.539192"], ["updated_at", "2020-12-13 17:13:45.539192"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (66.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-3"[0m
  [1m[35m (74.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-1"[0m
  [1m[35m (67.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-2"[0m
  [1m[35m (76.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-0"[0m
  [1m[35m (294.2ms)[0m  [1m[35mCREATE DATABASE "widgets_test-0" ENCODING = 'utf8'[0m
  [1m[35m (321.4ms)[0m  [1m[35mCREATE DATABASE "widgets_test-3" ENCODING = 'utf8'[0m
  [1m[35m (317.9ms)[0m  [1m[35mCREATE DATABASE "widgets_test-2" ENCODING = 'utf8'[0m
  [1m[35m (347.2ms)[0m  [1m[35mCREATE DATABASE "widgets_test-1" ENCODING = 'utf8'[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:13:46.581733"], ["updated_at", "2020-12-13 17:13:46.581733"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c1001024a507be588e1641482612c201a260688b"], ["created_at", "2020-12-13 17:13:46.599905"], ["updated_at", "2020-12-13 17:13:46.599905"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:13:46.594617"], ["updated_at", "2020-12-13 17:13:46.594617"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c1001024a507be588e1641482612c201a260688b"], ["created_at", "2020-12-13 17:13:46.618599"], ["updated_at", "2020-12-13 17:13:46.618599"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (8.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:13:46.632804"], ["updated_at", "2020-12-13 17:13:46.632804"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c1001024a507be588e1641482612c201a260688b"], ["created_at", "2020-12-13 17:13:46.645597"], ["updated_at", "2020-12-13 17:13:46.645597"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
WidgetTest: test_negative_prices_do_trigger_the_DB_constraint
-------------------------------------------------------------
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:13:46.654282"], ["updated_at", "2020-12-13 17:13:46.654282"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
--------------------------------------------------------------
WidgetTest: test_valid_prices_do_not_trigger_the_DB_constraint
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "c1001024a507be588e1641482612c201a260688b"], ["created_at", "2020-12-13 17:13:46.666740"], ["updated_at", "2020-12-13 17:13:46.666740"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fresh"], ["created_at", "2020-12-13 17:13:46.688295"], ["updated_at", "2020-12-13 17:13:46.688295"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fresh"], ["created_at", "2020-12-13 17:13:46.692036"], ["updated_at", "2020-12-13 17:13:46.692036"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "742 Evergreen Terrace"], ["zip", "90210"], ["created_at", "2020-12-13 17:13:46.715809"], ["updated_at", "2020-12-13 17:13:46.715809"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "742 Evergreen Terrace"], ["zip", "90210"], ["created_at", "2020-12-13 17:13:46.723930"], ["updated_at", "2020-12-13 17:13:46.723930"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 1], ["created_at", "2020-12-13 17:13:46.743712"], ["updated_at", "2020-12-13 17:13:46.743712"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 1], ["created_at", "2020-12-13 17:13:46.781527"], ["updated_at", "2020-12-13 17:13:46.781527"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 1000], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:13:46.802151"], ["updated_at", "2020-12-13 17:13:46.802151"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Update (2.4ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", -4500], ["id", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Create (4.4ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 1000], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:13:46.806736"], ["updated_at", "2020-12-13 17:13:46.806736"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.3ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", 4500], ["id", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (68.8ms)[0m  [1m[35mTRUNCATE TABLE "addresses", "manufacturers", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (86.7ms)[0m  [1m[35mTRUNCATE TABLE "addresses", "manufacturers", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (78.8ms)[0m  [1m[35mTRUNCATE TABLE "addresses", "manufacturers", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
WidgetTest: test_when_the_name_an_empty_string,_it's_normalized_to_nil
----------------------------------------------------------------------
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
WidgetTest: test_valid_prices_do_not_trigger_the_DB_constraint
--------------------------------------------------------------
  [1m[35m (98.2ms)[0m  [1m[35mTRUNCATE TABLE "addresses", "manufacturers", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
WidgetTest: test_negative_prices_do_trigger_the_DB_constraint
-------------------------------------------------------------
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fresh"], ["created_at", "2020-12-13 17:13:58.578633"], ["updated_at", "2020-12-13 17:13:58.578633"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWidgetStatus Create (2.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fresh"], ["created_at", "2020-12-13 17:13:58.597650"], ["updated_at", "2020-12-13 17:13:58.597650"]]
--------------------------------------------------------------------------
WidgetTest: test_when_name_is_just_a_lot_of_spaces,_it's_normalized_to_nil
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (3.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fresh"], ["created_at", "2020-12-13 17:13:58.612853"], ["updated_at", "2020-12-13 17:13:58.612853"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "742 Evergreen Terrace"], ["zip", "90210"], ["created_at", "2020-12-13 17:13:58.636826"], ["updated_at", "2020-12-13 17:13:58.636826"]]
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "742 Evergreen Terrace"], ["zip", "90210"], ["created_at", "2020-12-13 17:13:58.637264"], ["updated_at", "2020-12-13 17:13:58.637264"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "742 Evergreen Terrace"], ["zip", "90210"], ["created_at", "2020-12-13 17:13:58.661190"], ["updated_at", "2020-12-13 17:13:58.661190"]]
  [1m[36mWidgetStatus Create (2.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fresh"], ["created_at", "2020-12-13 17:13:58.659029"], ["updated_at", "2020-12-13 17:13:58.659029"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 1], ["created_at", "2020-12-13 17:13:58.668437"], ["updated_at", "2020-12-13 17:13:58.668437"]]
  [1m[36mManufacturer Create (3.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 2], ["created_at", "2020-12-13 17:13:58.668534"], ["updated_at", "2020-12-13 17:13:58.668534"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (4.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 2], ["created_at", "2020-12-13 17:13:58.700025"], ["updated_at", "2020-12-13 17:13:58.700025"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "742 Evergreen Terrace"], ["zip", "90210"], ["created_at", "2020-12-13 17:13:58.711928"], ["updated_at", "2020-12-13 17:13:58.711928"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 1], ["created_at", "2020-12-13 17:13:58.748480"], ["updated_at", "2020-12-13 17:13:58.748480"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (3.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 1000], ["widget_status_id", 2], ["manufacturer_id", 2], ["created_at", "2020-12-13 17:13:58.775636"], ["updated_at", "2020-12-13 17:13:58.775636"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (3.4ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 1000], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:13:58.778800"], ["updated_at", "2020-12-13 17:13:58.778800"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.7ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", 4500], ["id", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.8ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 1000], ["widget_status_id", 2], ["manufacturer_id", 2], ["created_at", "2020-12-13 17:13:58.802925"], ["updated_at", "2020-12-13 17:13:58.802925"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Update (3.9ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", -4500], ["id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (3.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 1000], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:13:58.842899"], ["updated_at", "2020-12-13 17:13:58.842899"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (14.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (12.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (70.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (70.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (70.5ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (73.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
LintFactoriesTest: test_all_factories_can_be_created
----------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["street", "33717 Cremin Coves"], ["created_at", "2020-12-13 17:14:08.179193"], ["updated_at", "2020-12-13 17:14:08.179193"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (7.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (62.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (72.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (63.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (64.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
LintFactoriesTest: test_all_factories_can_be_created
----------------------------------------------------
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "512 Schmeler Crossroad"], ["zip", "24136"], ["created_at", "2020-12-13 17:14:11.256571"], ["updated_at", "2020-12-13 17:14:11.256571"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (70.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (67.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (66.7ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (67.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
LintFactoriesTest: test_all_factories_can_be_created
----------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "565 Demarcus Extension"], ["zip", "58360"], ["created_at", "2020-12-13 17:14:16.327676"], ["updated_at", "2020-12-13 17:14:16.327676"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "807 Kemmer Fork"], ["zip", "70716"], ["created_at", "2020-12-13 17:14:16.343038"], ["updated_at", "2020-12-13 17:14:16.343038"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Roob Inc"], ["address_id", 4], ["created_at", "2020-12-13 17:14:16.348637"], ["updated_at", "2020-12-13 17:14:16.348637"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4259 Rosenbaum Walk"], ["zip", "41371"], ["created_at", "2020-12-13 17:14:16.363246"], ["updated_at", "2020-12-13 17:14:16.363246"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hoeger LLC"], ["address_id", 5], ["created_at", "2020-12-13 17:14:16.366686"], ["updated_at", "2020-12-13 17:14:16.366686"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "voluptatem"], ["created_at", "2020-12-13 17:14:16.377642"], ["updated_at", "2020-12-13 17:14:16.377642"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "qui"], ["price_cents", 191036], ["widget_status_id", 2], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:14:16.382016"], ["updated_at", "2020-12-13 17:14:16.382016"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "voluptates"], ["created_at", "2020-12-13 17:14:16.386398"], ["updated_at", "2020-12-13 17:14:16.386398"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (73.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (73.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (75.5ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (71.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (9.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetTest: test_when_name_is_just_a_lot_of_spaces,_it's_normalized_to_nil
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
WidgetTest: test_negative_prices_do_trigger_the_DB_constraint
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
WidgetTest: test_valid_prices_do_not_trigger_the_DB_constraint
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
WidgetTest: test_when_the_name_an_empty_string,_it's_normalized_to_nil
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "5166 Lehner Orchard"], ["zip", "43277"], ["created_at", "2020-12-13 17:14:19.514583"], ["updated_at", "2020-12-13 17:14:19.514583"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (5.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "279 Schumm Groves"], ["zip", "22475"], ["created_at", "2020-12-13 17:14:19.556731"], ["updated_at", "2020-12-13 17:14:19.556731"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (4.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Renner, Mante and Tromp"], ["address_id", 3], ["created_at", "2020-12-13 17:14:19.561439"], ["updated_at", "2020-12-13 17:14:19.561439"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "3303 Bud Park"], ["zip", "10489-1331"], ["created_at", "2020-12-13 17:14:19.575446"], ["updated_at", "2020-12-13 17:14:19.575446"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (5.7ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Zulauf Inc"], ["address_id", 6], ["created_at", "2020-12-13 17:14:19.572280"], ["updated_at", "2020-12-13 17:14:19.572280"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "sunt"], ["created_at", "2020-12-13 17:14:19.586372"], ["updated_at", "2020-12-13 17:14:19.586372"]]
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Schiller-Baumbach"], ["address_id", 3], ["created_at", "2020-12-13 17:14:19.587416"], ["updated_at", "2020-12-13 17:14:19.587416"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.0ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "quis"], ["price_cents", 428259], ["widget_status_id", 3], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:14:19.595826"], ["updated_at", "2020-12-13 17:14:19.595826"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.6ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", 4500], ["id", 3]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "cumque"], ["created_at", "2020-12-13 17:14:19.600079"], ["updated_at", "2020-12-13 17:14:19.600079"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "delectus"], ["created_at", "2020-12-13 17:14:19.607652"], ["updated_at", "2020-12-13 17:14:19.607652"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "reprehenderit"], ["price_cents", 671148], ["widget_status_id", 4], ["manufacturer_id", 4], ["created_at", "2020-12-13 17:14:19.612498"], ["updated_at", "2020-12-13 17:14:19.612498"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (3.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "molestiae"], ["price_cents", 849115], ["widget_status_id", 3], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:14:19.613517"], ["updated_at", "2020-12-13 17:14:19.613517"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.6ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", -4500], ["id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "2959 Trantow Plain"], ["zip", "03742-6507"], ["created_at", "2020-12-13 17:14:19.658336"], ["updated_at", "2020-12-13 17:14:19.658336"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Schimmel LLC"], ["address_id", 3], ["created_at", "2020-12-13 17:14:19.668494"], ["updated_at", "2020-12-13 17:14:19.668494"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "laboriosam"], ["created_at", "2020-12-13 17:14:19.710254"], ["updated_at", "2020-12-13 17:14:19.710254"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "qui"], ["price_cents", 913700], ["widget_status_id", 2], ["manufacturer_id", 2], ["created_at", "2020-12-13 17:14:19.718503"], ["updated_at", "2020-12-13 17:14:19.718503"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (64.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (62.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (57.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (74.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mManufacturer Load (1.3ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=350.05 view=306.87 db=10.23
method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=0.71 view=0.00 db=0.00 location=http://www.example.com/widgets/new
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=12.34 view=10.70 db=0.89
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (66.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (67.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (66.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (68.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:20.390703"], ["updated_at", "2020-12-13 17:15:20.390703"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:20.394137"], ["updated_at", "2020-12-13 17:15:20.394137"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "17528 Cecil Estates"], ["zip", "86486-9768"], ["created_at", "2020-12-13 17:15:20.599435"], ["updated_at", "2020-12-13 17:15:20.599435"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Wintheiser and Sons"], ["address_id", 4], ["created_at", "2020-12-13 17:15:20.607394"], ["updated_at", "2020-12-13 17:15:20.607394"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "312 Osinski Views"], ["zip", "71133-0020"], ["created_at", "2020-12-13 17:15:20.614120"], ["updated_at", "2020-12-13 17:15:20.614120"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kreiger Inc"], ["address_id", 5], ["created_at", "2020-12-13 17:15:20.618297"], ["updated_at", "2020-12-13 17:15:20.618297"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.3ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mManufacturer Load (1.2ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=189.42 view=166.78 db=5.49
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=405.81 view=375.67 db=5.68
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mWidget Create (1.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 123], ["widget_status_id", 4], ["manufacturer_id", 5], ["created_at", "2020-12-13 17:15:20.924875"], ["updated_at", "2020-12-13 17:15:20.924875"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=29.37 view=0.00 db=5.17 location=http://www.example.com/widgets/4
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mWidget Load (0.8ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=POST path=/widgets format=html controller=WidgetsController action=create status=200 duration=18.94 view=9.85 db=2.49
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/4 format=html controller=WidgetsController action=show status=200 duration=21.58 view=16.05 db=0.84
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (81.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (71.5ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (77.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (76.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:30.944405"], ["updated_at", "2020-12-13 17:15:30.944405"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:30.956706"], ["updated_at", "2020-12-13 17:15:30.956706"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "5419 Schmidt Crescent"], ["zip", "41571-3242"], ["created_at", "2020-12-13 17:15:31.161766"], ["updated_at", "2020-12-13 17:15:31.161766"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.7ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Senger-McKenzie"], ["address_id", 7], ["created_at", "2020-12-13 17:15:31.168921"], ["updated_at", "2020-12-13 17:15:31.168921"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "18403 Shea Dam"], ["zip", "74555-9914"], ["created_at", "2020-12-13 17:15:31.175585"], ["updated_at", "2020-12-13 17:15:31.175585"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Gorczany, Deckow and Reilly"], ["address_id", 8], ["created_at", "2020-12-13 17:15:31.180076"], ["updated_at", "2020-12-13 17:15:31.180076"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=339.17 view=307.02 db=5.93
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=182.14 view=162.99 db=4.44
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mWidget Create (1.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 123], ["widget_status_id", 6], ["manufacturer_id", 6], ["created_at", "2020-12-13 17:15:31.451733"], ["updated_at", "2020-12-13 17:15:31.451733"]]
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=16.05 view=0.00 db=4.68 location=http://www.example.com/widgets/4
  [1m[36mWidget Load (0.8ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/4 format=html controller=WidgetsController action=show status=200 duration=11.31 view=7.38 db=0.80
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=POST path=/widgets format=html controller=WidgetsController action=create status=200 duration=61.45 view=50.27 db=2.39
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (63.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (60.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (60.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (60.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:34.888917"], ["updated_at", "2020-12-13 17:15:34.888917"]]
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:34.888917"], ["updated_at", "2020-12-13 17:15:34.888917"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "15274 Nader Haven"], ["zip", "27650"], ["created_at", "2020-12-13 17:15:35.079509"], ["updated_at", "2020-12-13 17:15:35.079509"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Howe Group"], ["address_id", 6], ["created_at", "2020-12-13 17:15:35.084396"], ["updated_at", "2020-12-13 17:15:35.084396"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4734 Apolonia Stravenue"], ["zip", "02966"], ["created_at", "2020-12-13 17:15:35.088631"], ["updated_at", "2020-12-13 17:15:35.088631"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Becker and Sons"], ["address_id", 7], ["created_at", "2020-12-13 17:15:35.090624"], ["updated_at", "2020-12-13 17:15:35.090624"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.1ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=163.27 view=145.10 db=4.23
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=351.97 view=320.27 db=5.82
  [1m[36mWidget Create (1.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 12300], ["widget_status_id", 6], ["manufacturer_id", 7], ["created_at", "2020-12-13 17:15:35.333340"], ["updated_at", "2020-12-13 17:15:35.333340"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=23.90 view=0.00 db=4.91 location=http://www.example.com/widgets/5
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
method=GET path=/widgets/5 format=html controller=WidgetsController action=show status=200 duration=24.14 view=18.45 db=0.70
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=POST path=/widgets format=html controller=WidgetsController action=create status=200 duration=17.19 view=8.80 db=2.38
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (102.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (110.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (106.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (113.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "923 Kovacek Shoal"], ["zip", "27684-4000"], ["created_at", "2020-12-13 17:15:45.535606"], ["updated_at", "2020-12-13 17:15:45.535606"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Wisoky-Koss"], ["address_id", 9], ["created_at", "2019-12-13 17:15:45.173184"], ["updated_at", "2020-12-13 17:15:45.545734"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "iusto"], ["created_at", "2020-12-13 17:15:45.565390"], ["updated_at", "2020-12-13 17:15:45.565390"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" ORDER BY "widget_statuses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mWidget Create (1.8ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 8], ["manufacturer_id", 7], ["created_at", "2020-12-13 17:15:45.596370"], ["updated_at", "2020-12-13 17:15:45.596370"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (0.8ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (5.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (69.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (68.5ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (66.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (71.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "79114 Dominque Green"], ["zip", "70032-0913"], ["created_at", "2020-12-13 17:15:49.516991"], ["updated_at", "2020-12-13 17:15:49.516991"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Zboncak-Jerde"], ["address_id", 4], ["created_at", "2019-12-13 17:15:49.305538"], ["updated_at", "2020-12-13 17:15:49.524666"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "doloremque"], ["created_at", "2020-12-13 17:15:49.538566"], ["updated_at", "2020-12-13 17:15:49.538566"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:49.543431"], ["updated_at", "2020-12-13 17:15:49.543431"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mWidget Create (1.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 5], ["manufacturer_id", 4], ["created_at", "2020-12-13 17:15:49.565852"], ["updated_at", "2020-12-13 17:15:49.565852"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (63.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (64.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (69.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (61.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "888 Milagros Isle"], ["zip", "60392"], ["created_at", "2020-12-13 17:15:52.726832"], ["updated_at", "2020-12-13 17:15:52.726832"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "374 Corrine Villages"], ["zip", "29468"], ["created_at", "2020-12-13 17:15:52.734568"], ["updated_at", "2020-12-13 17:15:52.734568"]]
  [1m[36mManufacturer Create (1.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Rutherford LLC"], ["address_id", 8], ["created_at", "2019-12-13 17:15:52.459447"], ["updated_at", "2020-12-13 17:15:52.735818"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.7ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hirthe-Hansen"], ["address_id", 4], ["created_at", "2019-12-13 17:15:52.454726"], ["updated_at", "2020-12-13 17:15:52.743645"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "laborum"], ["created_at", "2020-12-13 17:15:52.754704"], ["updated_at", "2020-12-13 17:15:52.754704"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:52.760002"], ["updated_at", "2020-12-13 17:15:52.760002"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "exercitationem"], ["created_at", "2020-12-13 17:15:52.760809"], ["updated_at", "2020-12-13 17:15:52.760809"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:52.766932"], ["updated_at", "2020-12-13 17:15:52.766932"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.1ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (0.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mWidget Create (2.0ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 8], ["manufacturer_id", 8], ["created_at", "2020-12-13 17:15:52.792405"], ["updated_at", "2020-12-13 17:15:52.792405"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "widg"], ["price_cents", 100000], ["widget_status_id", 4], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:15:52.794917"], ["updated_at", "2020-12-13 17:15:52.794917"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (1.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (76.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (73.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (76.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "30259 Jast Court"], ["zip", "88844-9805"], ["created_at", "2020-12-13 17:15:55.751759"], ["updated_at", "2020-12-13 17:15:55.751759"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "96689 Henry Skyway"], ["zip", "10278-8366"], ["created_at", "2020-12-13 17:15:55.756442"], ["updated_at", "2020-12-13 17:15:55.756442"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Schowalter-Kuhlman"], ["address_id", 5], ["created_at", "2019-12-13 17:15:55.504530"], ["updated_at", "2020-12-13 17:15:55.762400"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Gerlach, Marks and Nader"], ["address_id", 10], ["created_at", "2019-12-13 17:15:55.507382"], ["updated_at", "2020-12-13 17:15:55.766699"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "adipisci"], ["created_at", "2020-12-13 17:15:55.782334"], ["updated_at", "2020-12-13 17:15:55.782334"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:55.787953"], ["updated_at", "2020-12-13 17:15:55.787953"]]
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "illo"], ["created_at", "2020-12-13 17:15:55.787468"], ["updated_at", "2020-12-13 17:15:55.787468"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:15:55.792907"], ["updated_at", "2020-12-13 17:15:55.792907"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Create (2.4ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 10], ["manufacturer_id", 8], ["created_at", "2020-12-13 17:15:55.822515"], ["updated_at", "2020-12-13 17:15:55.822515"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (7.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (61.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (61.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (61.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (65.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "7145 Hai Vista"], ["zip", "77134-5104"], ["created_at", "2020-12-13 17:16:05.091347"], ["updated_at", "2020-12-13 17:16:05.091347"]]
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "5868 Olin Overpass"], ["zip", "85603"], ["created_at", "2020-12-13 17:16:05.090821"], ["updated_at", "2020-12-13 17:16:05.090821"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "834 Marlon Fall"], ["zip", "94384"], ["created_at", "2020-12-13 17:16:05.093183"], ["updated_at", "2020-12-13 17:16:05.093183"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Dickinson, Klein and Fisher"], ["address_id", 9], ["created_at", "2019-12-13 17:16:04.857877"], ["updated_at", "2020-12-13 17:16:05.101418"]]
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Green-Weissnat"], ["address_id", 5], ["created_at", "2019-12-13 17:16:04.859580"], ["updated_at", "2020-12-13 17:16:05.101347"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ryan, Leuschke and Schultz"], ["address_id", 11], ["created_at", "2019-12-13 17:16:04.857979"], ["updated_at", "2020-12-13 17:16:05.105578"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "perspiciatis"], ["created_at", "2020-12-13 17:16:05.118850"], ["updated_at", "2020-12-13 17:16:05.118850"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ipsa"], ["created_at", "2020-12-13 17:16:05.122421"], ["updated_at", "2020-12-13 17:16:05.122421"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:05.124468"], ["updated_at", "2020-12-13 17:16:05.124468"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:05.126642"], ["updated_at", "2020-12-13 17:16:05.126642"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (3.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "molestiae"], ["created_at", "2020-12-13 17:16:05.128333"], ["updated_at", "2020-12-13 17:16:05.128333"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:05.135789"], ["updated_at", "2020-12-13 17:16:05.135789"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (1.0ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 7], ["manufacturer_id", 5], ["created_at", "2020-12-13 17:16:05.156499"], ["updated_at", "2020-12-13 17:16:05.156499"]]
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (1.1ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mWidget Create (2.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 12], ["manufacturer_id", 9], ["created_at", "2020-12-13 17:16:05.171810"], ["updated_at", "2020-12-13 17:16:05.171810"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
FinanceMailer#high_priced_widget: processed outbound mail in 44.9ms
Delivered mail 5fd64c5537f3b_341b1248661ae@4b5ffc51fd3c.mail (10.6ms)
Date: Sun, 13 Dec 2020 17:16:05 +0000
From: from@example.com
To: finance@example.com
Message-ID: <5fd64c5537f3b_341b1248661ae@4b5ffc51fd3c.mail>
Subject: High priced widget
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c5536a87_341b1248660ee";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c5536a87_341b1248660ee
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt


----==_mimepart_5fd64c5536a87_341b1248660ee
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt

  </body>
</html>

----==_mimepart_5fd64c5536a87_341b1248660ee--

  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (69.7ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (63.5ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (67.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (72.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
LintFactoriesTest: test_all_factories_can_be_created
----------------------------------------------------
---------------------------------------------------------------------------
WidgetCreatorTest: test_legacy_manufacturers_cannot_have_a_price_under_$100
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WidgetCreatorTest: test_price_cannot_be_0
-----------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "915 Renata Walks"], ["zip", "75619"], ["created_at", "2020-12-13 17:16:22.245398"], ["updated_at", "2020-12-13 17:16:22.245398"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "29456 Loria Center"], ["zip", "66223-9349"], ["created_at", "2020-12-13 17:16:22.271294"], ["updated_at", "2020-12-13 17:16:22.271294"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Rippin, Ward and Hackett"], ["address_id", 7], ["created_at", "2020-12-13 17:16:22.279356"], ["updated_at", "2020-12-13 17:16:22.279356"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "55862 Bronwyn Rapid"], ["zip", "32524-0966"], ["created_at", "2020-12-13 17:16:22.306349"], ["updated_at", "2020-12-13 17:16:22.306349"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Leannon Group"], ["address_id", 8], ["created_at", "2020-12-13 17:16:22.310567"], ["updated_at", "2020-12-13 17:16:22.310567"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "232 Russel Square"], ["zip", "00366-8040"], ["created_at", "2020-12-13 17:16:22.322690"], ["updated_at", "2020-12-13 17:16:22.322690"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "98280 Strosin Port"], ["zip", "29401"], ["created_at", "2020-12-13 17:16:22.330925"], ["updated_at", "2020-12-13 17:16:22.330925"]]
  [1m[36mManufacturer Create (1.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Johnson Group"], ["address_id", 12], ["created_at", "2019-12-13 17:16:22.056535"], ["updated_at", "2020-12-13 17:16:22.332435"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "incidunt"], ["created_at", "2020-12-13 17:16:22.337360"], ["updated_at", "2020-12-13 17:16:22.337360"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lowe, MacGyver and Becker"], ["address_id", 6], ["created_at", "2019-12-13 17:16:22.045204"], ["updated_at", "2020-12-13 17:16:22.340054"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "aut consequatur necessitatibus"], ["price_cents", 82933], ["widget_status_id", 7], ["manufacturer_id", 6], ["created_at", "2020-12-13 17:16:22.342786"], ["updated_at", "2020-12-13 17:16:22.342786"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "qui"], ["created_at", "2020-12-13 17:16:22.350388"], ["updated_at", "2020-12-13 17:16:22.350388"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "voluptatibus"], ["created_at", "2020-12-13 17:16:22.348374"], ["updated_at", "2020-12-13 17:16:22.348374"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.356349"], ["updated_at", "2020-12-13 17:16:22.356349"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
WidgetCreatorTest: test_email_adming_staff_for_widgets_on_new_manufacturers_
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "sit"], ["created_at", "2020-12-13 17:16:22.380557"], ["updated_at", "2020-12-13 17:16:22.380557"]]
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.386764"], ["updated_at", "2020-12-13 17:16:22.386764"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
WidgetCreatorTest: test_price_cannot_be_more_than_10,000
--------------------------------------------------------
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (3.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "2507 Cole Throughway"], ["zip", "47140-9948"], ["created_at", "2020-12-13 17:16:22.409138"], ["updated_at", "2020-12-13 17:16:22.409138"]]
  [1m[36mAddress Create (1.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "50910 Margareta Plains"], ["zip", "70326"], ["created_at", "2020-12-13 17:16:22.412796"], ["updated_at", "2020-12-13 17:16:22.412796"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Wuckert Group"], ["address_id", 13], ["created_at", "2019-12-13 17:16:22.409681"], ["updated_at", "2020-12-13 17:16:22.426117"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "6138 Schowalter Stravenue"], ["zip", "00878-5328"], ["created_at", "2020-12-13 17:16:22.430255"], ["updated_at", "2020-12-13 17:16:22.430255"]]
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "necessitatibus"], ["created_at", "2020-12-13 17:16:22.431740"], ["updated_at", "2020-12-13 17:16:22.431740"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Spinka and Sons"], ["address_id", 7], ["created_at", "2019-12-13 17:16:22.428402"], ["updated_at", "2020-12-13 17:16:22.435096"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.435818"], ["updated_at", "2020-12-13 17:16:22.435818"]]
  [1m[36mManufacturer Create (1.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hartmann, Greenholt and Mosciski"], ["address_id", 10], ["created_at", "2019-12-13 17:16:22.026511"], ["updated_at", "2020-12-13 17:16:22.425595"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "dolor"], ["created_at", "2020-12-13 17:16:22.439256"], ["updated_at", "2020-12-13 17:16:22.439256"]]
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.443832"], ["updated_at", "2020-12-13 17:16:22.443832"]]
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.5ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 11], ["manufacturer_id", 7], ["created_at", "2020-12-13 17:16:22.452684"], ["updated_at", "2020-12-13 17:16:22.452684"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWidgetStatus Create (2.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "voluptas"], ["created_at", "2020-12-13 17:16:22.454026"], ["updated_at", "2020-12-13 17:16:22.454026"]]
------------------------------------------------------------------
WidgetCreatorTest: test_name,_price,_and_manufacturer_are_required
------------------------------------------------------------------
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "8973 Pierre Cape"], ["zip", "58997"], ["created_at", "2020-12-13 17:16:22.462390"], ["updated_at", "2020-12-13 17:16:22.462390"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "5490 Ruecker Oval"], ["zip", "04429"], ["created_at", "2020-12-13 17:16:22.473456"], ["updated_at", "2020-12-13 17:16:22.473456"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.468748"], ["updated_at", "2020-12-13 17:16:22.468748"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Leffler and Sons"], ["address_id", 8], ["created_at", "2019-12-13 17:16:22.471287"], ["updated_at", "2020-12-13 17:16:22.478214"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Carroll-Zboncak"], ["address_id", 14], ["created_at", "2019-12-13 17:16:22.459719"], ["updated_at", "2020-12-13 17:16:22.491578"]]
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "1029 Evan Shoals"], ["zip", "99905-6899"], ["created_at", "2020-12-13 17:16:22.483197"], ["updated_at", "2020-12-13 17:16:22.483197"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "minus"], ["created_at", "2020-12-13 17:16:22.496810"], ["updated_at", "2020-12-13 17:16:22.496810"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.502166"], ["updated_at", "2020-12-13 17:16:22.502166"]]
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quas"], ["created_at", "2020-12-13 17:16:22.502398"], ["updated_at", "2020-12-13 17:16:22.502398"]]
  [1m[36mTRANSACTION (7.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Senger, Runolfsson and Willms"], ["address_id", 11], ["created_at", "2009-12-31 00:00:00"], ["updated_at", "2020-12-13 17:16:22.497042"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.0ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.506113"], ["updated_at", "2020-12-13 17:16:22.506113"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mWidget Create (1.0ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 13], ["manufacturer_id", 8], ["created_at", "2020-12-13 17:16:22.514148"], ["updated_at", "2020-12-13 17:16:22.514148"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.534203"], ["updated_at", "2020-12-13 17:16:22.534203"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
FinanceMailer#high_priced_widget: processed outbound mail in 39.5ms
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "2741 Ritchie Ferry"], ["zip", "45302"], ["created_at", "2020-12-13 17:16:22.562805"], ["updated_at", "2020-12-13 17:16:22.562805"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Delivered mail 5fd64c6689d2c_36ce12487735c@4b5ffc51fd3c.mail (8.5ms)
Date: Sun, 13 Dec 2020 17:16:22 +0000
From: from@example.com
To: finance@example.com
Message-ID: <5fd64c6689d2c_36ce12487735c@4b5ffc51fd3c.mail>
Subject: High priced widget
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c6688688_36ce1248772b1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c6688688_36ce1248772b1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt


----==_mimepart_5fd64c6688688_36ce1248772b1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt

  </body>
</html>

----==_mimepart_5fd64c6688688_36ce1248772b1--

  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Batz-Bogisich"], ["address_id", 9], ["created_at", "2019-12-13 17:16:22.555290"], ["updated_at", "2020-12-13 17:16:22.568773"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "aut"], ["created_at", "2020-12-13 17:16:22.574806"], ["updated_at", "2020-12-13 17:16:22.574806"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.578483"], ["updated_at", "2020-12-13 17:16:22.578483"]]
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:22.579231"], ["updated_at", "2020-12-13 17:16:22.579231"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "14347 Grimes Village"], ["zip", "29860-6190"], ["created_at", "2020-12-13 17:16:22.584059"], ["updated_at", "2020-12-13 17:16:22.584059"]]
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "90606 Josephina Ports"], ["zip", "87294-4461"], ["created_at", "2020-12-13 17:16:22.584293"], ["updated_at", "2020-12-13 17:16:22.584293"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Collier, Marks and Dicki"], ["address_id", 9], ["created_at", "2020-12-13 17:16:22.587797"], ["updated_at", "2020-12-13 17:16:22.587797"]]
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 10], ["created_at", "2020-10-15 17:16:22.582287"], ["updated_at", "2020-12-13 17:16:22.587765"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4287 Long Land"], ["zip", "59524"], ["created_at", "2020-12-13 17:16:22.593224"], ["updated_at", "2020-12-13 17:16:22.593224"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lemke-Reinger"], ["address_id", 10], ["created_at", "2020-12-13 17:16:22.596828"], ["updated_at", "2020-12-13 17:16:22.596828"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 9900], ["widget_status_id", 10], ["manufacturer_id", 8], ["created_at", "2020-12-13 17:16:22.602835"], ["updated_at", "2020-12-13 17:16:22.602835"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 50.6ms
Delivered mail 5fd64c66a2649_36cd124877360@4b5ffc51fd3c.mail (17.7ms)
Date: Sun, 13 Dec 2020 17:16:22 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64c66a2649_36cd124877360@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c66a10e1_36cd1248772ab";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c66a10e1_36cd1248772ab
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Cyberdine Systems


----==_mimepart_5fd64c66a10e1_36cd1248772ab
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Cyberdine Systems

  </body>
</html>

----==_mimepart_5fd64c66a10e1_36cd1248772ab--

  [1m[36mTRANSACTION (8.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mManufacturer Load (9.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=313.22 view=298.87 db=0.75
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=POST path=/widgets format=html controller=WidgetsController action=create status=200 duration=16.80 view=12.39 db=1.63
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=375.96 view=315.73 db=9.02
  [1m[36mWidgetStatus Load (1.4ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.1ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 12300], ["widget_status_id", 14], ["manufacturer_id", 10], ["created_at", "2020-12-13 17:16:23.075834"], ["updated_at", "2020-12-13 17:16:23.075834"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 6.8ms
Delivered mail 5fd64c6716615_36ce1248775b2@4b5ffc51fd3c.mail (4.1ms)
Date: Sun, 13 Dec 2020 17:16:23 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64c6716615_36ce1248775b2@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c67159a1_36ce124877413";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c67159a1_36ce124877413
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Lemke-Reinger


----==_mimepart_5fd64c67159a1_36ce124877413
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Lemke-Reinger

  </body>
</html>

----==_mimepart_5fd64c67159a1_36ce124877413--

method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=30.83 view=0.00 db=6.34 location=http://www.example.com/widgets/8
  [1m[36mWidget Load (1.1ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/8 format=html controller=WidgetsController action=show status=200 duration=14.32 view=9.27 db=1.08
  [1m[36mWidget Load (1.0ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (29.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (25.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (23.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (93.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (94.9ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (98.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (99.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
WidgetTest: test_valid_prices_do_not_trigger_the_DB_constraint
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
WidgetTest: test_negative_prices_do_trigger_the_DB_constraint
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
WidgetTest: test_when_the_name_an_empty_string,_it's_normalized_to_nil
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetTest: test_when_name_is_just_a_lot_of_spaces,_it's_normalized_to_nil
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (5.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "499 Walker Turnpike"], ["zip", "03340-5572"], ["created_at", "2020-12-13 17:16:29.171887"], ["updated_at", "2020-12-13 17:16:29.171887"]]
  [1m[36mAddress Create (1.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "3554 Anika Road"], ["zip", "18871-3018"], ["created_at", "2020-12-13 17:16:29.176537"], ["updated_at", "2020-12-13 17:16:29.176537"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cassin, Mertz and Brakus"], ["address_id", 11], ["created_at", "2020-12-13 17:16:29.192571"], ["updated_at", "2020-12-13 17:16:29.192571"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Feeney, Kilback and Legros"], ["address_id", 15], ["created_at", "2020-12-13 17:16:29.196051"], ["updated_at", "2020-12-13 17:16:29.196051"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4718 Hermiston Light"], ["zip", "80952"], ["created_at", "2020-12-13 17:16:29.201943"], ["updated_at", "2020-12-13 17:16:29.201943"]]
  [1m[36mAddress Create (1.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "205 Chi Greens"], ["zip", "91183"], ["created_at", "2020-12-13 17:16:29.201811"], ["updated_at", "2020-12-13 17:16:29.201811"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kris, Hayes and Blanda"], ["address_id", 11], ["created_at", "2020-12-13 17:16:29.218749"], ["updated_at", "2020-12-13 17:16:29.218749"]]
  [1m[36mManufacturer Create (3.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Stroman-Heaney"], ["address_id", 12], ["created_at", "2020-12-13 17:16:29.219691"], ["updated_at", "2020-12-13 17:16:29.219691"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (3.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quidem"], ["created_at", "2020-12-13 17:16:29.228637"], ["updated_at", "2020-12-13 17:16:29.228637"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "doloremque"], ["created_at", "2020-12-13 17:16:29.233389"], ["updated_at", "2020-12-13 17:16:29.233389"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (4.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "ipsum dolorum totam"], ["price_cents", 755913], ["widget_status_id", 15], ["manufacturer_id", 11], ["created_at", "2020-12-13 17:16:29.241200"], ["updated_at", "2020-12-13 17:16:29.241200"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (4.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "vel delectus minus"], ["price_cents", 981729], ["widget_status_id", 20], ["manufacturer_id", 13], ["created_at", "2020-12-13 17:16:29.247086"], ["updated_at", "2020-12-13 17:16:29.247086"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "in"], ["created_at", "2020-12-13 17:16:29.256330"], ["updated_at", "2020-12-13 17:16:29.256330"]]
  [1m[36mWidgetStatus Create (2.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "laborum"], ["created_at", "2020-12-13 17:16:29.257414"], ["updated_at", "2020-12-13 17:16:29.257414"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
ApplicationHelperTest: test_styled_widget_id
  [1m[36mWidget Update (2.2ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", 4500], ["id", 8]]
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Create (3.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "magnam totam nihil"], ["price_cents", 247367], ["widget_status_id", 11], ["manufacturer_id", 9], ["created_at", "2020-12-13 17:16:29.267308"], ["updated_at", "2020-12-13 17:16:29.267308"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWidget Create (3.4ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "nam odio expedita"], ["price_cents", 141968], ["widget_status_id", 13], ["manufacturer_id", 12], ["created_at", "2020-12-13 17:16:29.268074"], ["updated_at", "2020-12-13 17:16:29.268074"]]
------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_with_CTA
------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_without_CTA
---------------------------------------------------------------
  [1m[36mWidget Update (3.2ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", -4500], ["id", 6]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
LintFactoriesTest: test_all_factories_can_be_created
----------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
WidgetCreatorTest: test_name,_price,_and_manufacturer_are_required
------------------------------------------------------------------
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "681 Kshlerin Drives"], ["zip", "71383"], ["created_at", "2020-12-13 17:16:29.296324"], ["updated_at", "2020-12-13 17:16:29.296324"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4276 Santos Inlet"], ["zip", "74358"], ["created_at", "2020-12-13 17:16:29.307156"], ["updated_at", "2020-12-13 17:16:29.307156"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Howe LLC"], ["address_id", 14], ["created_at", "2020-12-13 17:16:29.315279"], ["updated_at", "2020-12-13 17:16:29.315279"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
WidgetCreatorTest: test_price_cannot_be_more_than_10,000
--------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "544 Tomas Wells"], ["zip", "11975"], ["created_at", "2020-12-13 17:16:29.328661"], ["updated_at", "2020-12-13 17:16:29.328661"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "8484 Oberbrunner Cliff"], ["zip", "06326-9646"], ["created_at", "2020-12-13 17:16:29.333302"], ["updated_at", "2020-12-13 17:16:29.333302"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kovacek, Hahn and Stehr"], ["address_id", 15], ["created_at", "2020-12-13 17:16:29.335998"], ["updated_at", "2020-12-13 17:16:29.335998"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Auer-Nitzsche"], ["address_id", 12], ["created_at", "2019-12-13 17:16:29.329111"], ["updated_at", "2020-12-13 17:16:29.342256"]]
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "architecto"], ["created_at", "2020-12-13 17:16:29.344962"], ["updated_at", "2020-12-13 17:16:29.344962"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "nemo"], ["created_at", "2020-12-13 17:16:29.351669"], ["updated_at", "2020-12-13 17:16:29.351669"]]
  [1m[36mWidget Create (2.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "debitis inventore impedit"], ["price_cents", 69504], ["widget_status_id", 14], ["manufacturer_id", 14], ["created_at", "2020-12-13 17:16:29.351865"], ["updated_at", "2020-12-13 17:16:29.351865"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.359804"], ["updated_at", "2020-12-13 17:16:29.359804"]]
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "rerum"], ["created_at", "2020-12-13 17:16:29.360153"], ["updated_at", "2020-12-13 17:16:29.360153"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (1.1ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "5237 Rich Well"], ["zip", "50500"], ["created_at", "2020-12-13 17:16:29.408837"], ["updated_at", "2020-12-13 17:16:29.408837"]]
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "668 Numbers Square"], ["zip", "92689-9498"], ["created_at", "2020-12-13 17:16:29.410608"], ["updated_at", "2020-12-13 17:16:29.410608"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.7ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Considine-Cremin"], ["address_id", 16], ["created_at", "2019-12-13 17:16:29.364826"], ["updated_at", "2020-12-13 17:16:29.416049"]]
  [1m[36mManufacturer Create (1.7ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Wolff, Halvorson and Daniel"], ["address_id", 12], ["created_at", "2019-12-13 17:16:29.405615"], ["updated_at", "2020-12-13 17:16:29.417737"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "et"], ["created_at", "2020-12-13 17:16:29.426143"], ["updated_at", "2020-12-13 17:16:29.426143"]]
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "dolorem"], ["created_at", "2020-12-13 17:16:29.425101"], ["updated_at", "2020-12-13 17:16:29.425101"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
WidgetCreatorTest: test_email_adming_staff_for_widgets_on_new_manufacturers_
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.433660"], ["updated_at", "2020-12-13 17:16:29.433660"]]
  [1m[36mWidgetStatus Create (2.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.433864"], ["updated_at", "2020-12-13 17:16:29.433864"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "81906 Hilpert Pine"], ["zip", "04194"], ["created_at", "2020-12-13 17:16:29.439856"], ["updated_at", "2020-12-13 17:16:29.439856"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (1.3ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Friesen, Wisozk and Block"], ["address_id", 13], ["created_at", "2019-12-13 17:16:29.435137"], ["updated_at", "2020-12-13 17:16:29.447582"]]
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "864 Mitchell Passage"], ["zip", "79687"], ["created_at", "2020-12-13 17:16:29.449216"], ["updated_at", "2020-12-13 17:16:29.449216"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fugit"], ["created_at", "2020-12-13 17:16:29.455036"], ["updated_at", "2020-12-13 17:16:29.455036"]]
  [1m[36mManufacturer Create (1.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Blick-Strosin"], ["address_id", 16], ["created_at", "2019-12-13 17:16:29.444796"], ["updated_at", "2020-12-13 17:16:29.456173"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.3ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.463784"], ["updated_at", "2020-12-13 17:16:29.463784"]]
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ratione"], ["created_at", "2020-12-13 17:16:29.464005"], ["updated_at", "2020-12-13 17:16:29.464005"]]
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 22], ["manufacturer_id", 14], ["created_at", "2020-12-13 17:16:29.463953"], ["updated_at", "2020-12-13 17:16:29.463953"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.471349"], ["updated_at", "2020-12-13 17:16:29.471349"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "71956 Sebrina Terrace"], ["zip", "35774"], ["created_at", "2020-12-13 17:16:29.473910"], ["updated_at", "2020-12-13 17:16:29.473910"]]
  [1m[36mWidget Load (1.5ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (1.2ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WidgetCreatorTest: test_price_cannot_be_0
-----------------------------------------
  [1m[36mManufacturer Create (2.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 14], ["created_at", "2020-10-15 17:16:29.470162"], ["updated_at", "2020-12-13 17:16:29.480785"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetCreatorTest: test_legacy_manufacturers_cannot_have_a_price_under_$100
---------------------------------------------------------------------------
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "5467 Lorenza Lakes"], ["zip", "35612-8905"], ["created_at", "2020-12-13 17:16:29.493929"], ["updated_at", "2020-12-13 17:16:29.493929"]]
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 17], ["manufacturer_id", 15], ["created_at", "2020-12-13 17:16:29.497252"], ["updated_at", "2020-12-13 17:16:29.497252"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4365 Schmitt Park"], ["zip", "27464"], ["created_at", "2020-12-13 17:16:29.501312"], ["updated_at", "2020-12-13 17:16:29.501312"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (2.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mManufacturer Create (1.7ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ondricka-Johnston"], ["address_id", 13], ["created_at", "2019-12-13 17:16:29.486235"], ["updated_at", "2020-12-13 17:16:29.505257"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 9900], ["widget_status_id", 15], ["manufacturer_id", 12], ["created_at", "2020-12-13 17:16:29.512885"], ["updated_at", "2020-12-13 17:16:29.512885"]]
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "repellat"], ["created_at", "2020-12-13 17:16:29.516149"], ["updated_at", "2020-12-13 17:16:29.516149"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Halvorson and Sons"], ["address_id", 17], ["created_at", "2019-12-13 17:16:29.495997"], ["updated_at", "2020-12-13 17:16:29.516036"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.523974"], ["updated_at", "2020-12-13 17:16:29.523974"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (2.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "qui"], ["created_at", "2020-12-13 17:16:29.526772"], ["updated_at", "2020-12-13 17:16:29.526772"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.4ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.539283"], ["updated_at", "2020-12-13 17:16:29.539283"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "423 Hickle Fall"], ["zip", "75550"], ["created_at", "2020-12-13 17:16:29.557987"], ["updated_at", "2020-12-13 17:16:29.557987"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
FinanceMailer#high_priced_widget: processed outbound mail in 51.8ms
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "99159 Schmeler Corners"], ["zip", "29257"], ["created_at", "2020-12-13 17:16:29.564018"], ["updated_at", "2020-12-13 17:16:29.564018"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hudson, Mertz and Goyette"], ["address_id", 18], ["created_at", "2009-12-31 00:00:00"], ["updated_at", "2020-12-13 17:16:29.566431"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 49.3ms
  [1m[36mWidgetStatus Load (1.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mManufacturer Create (1.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kling-Kihn"], ["address_id", 14], ["created_at", "2019-12-13 17:16:29.560166"], ["updated_at", "2020-12-13 17:16:29.573968"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Delivered mail 5fd64c6d8bdfb_3794124861478@4b5ffc51fd3c.mail (15.8ms)
Date: Sun, 13 Dec 2020 17:16:29 +0000
From: from@example.com
To: finance@example.com
Message-ID: <5fd64c6d8bdfb_3794124861478@4b5ffc51fd3c.mail>
Subject: High priced widget
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c6d89bd8_37941248613ad";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c6d89bd8_37941248613ad
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt


----==_mimepart_5fd64c6d89bd8_37941248613ad
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt

  </body>
</html>

----==_mimepart_5fd64c6d89bd8_37941248613ad--

  [1m[36mManufacturer Load (1.4ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "repellendus"], ["created_at", "2020-12-13 17:16:29.583278"], ["updated_at", "2020-12-13 17:16:29.583278"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (3.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:29.593817"], ["updated_at", "2020-12-13 17:16:29.593817"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.2ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
Delivered mail 5fd64c6d8e972_37981248614cc@4b5ffc51fd3c.mail (26.7ms)
Date: Sun, 13 Dec 2020 17:16:29 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64c6d8e972_37981248614cc@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c6d8c333_37981248613c5";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c6d8c333_37981248613c5
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Cyberdine Systems


----==_mimepart_5fd64c6d8c333_37981248613c5
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Cyberdine Systems

  </body>
</html>

----==_mimepart_5fd64c6d8c333_37981248613c5--

  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.2ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (81.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (83.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (80.5ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (6.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (102.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
RateWidgetsTest: test_rating_a_widget_shows_our_rating_inline
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (3.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:39.483336"], ["updated_at", "2020-12-13 17:16:39.483336"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (4.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:16:39.505813"], ["updated_at", "2020-12-13 17:16:39.505813"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "63022 Erasmo Lodge"], ["zip", "87020"], ["created_at", "2020-12-13 17:16:39.853121"], ["updated_at", "2020-12-13 17:16:39.853121"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Goyette-Bergnaum"], ["address_id", 17], ["created_at", "2020-12-13 17:16:39.861465"], ["updated_at", "2020-12-13 17:16:39.861465"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "65163 Ronald Mountains"], ["zip", "92053-7530"], ["created_at", "2020-12-13 17:16:39.870035"], ["updated_at", "2020-12-13 17:16:39.870035"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "857 Gutkowski Track"], ["zip", "90793"], ["created_at", "2020-12-13 17:16:39.870432"], ["updated_at", "2020-12-13 17:16:39.870432"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Feest Inc"], ["address_id", 18], ["created_at", "2020-12-13 17:16:39.874172"], ["updated_at", "2020-12-13 17:16:39.874172"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "9908 Conroy Rapid"], ["zip", "56517-5649"], ["created_at", "2020-12-13 17:16:39.874307"], ["updated_at", "2020-12-13 17:16:39.874307"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Treutel-Raynor"], ["address_id", 15], ["created_at", "2020-12-13 17:16:39.881447"], ["updated_at", "2020-12-13 17:16:39.881447"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lind-Williamson"], ["address_id", 19], ["created_at", "2020-12-13 17:16:39.887056"], ["updated_at", "2020-12-13 17:16:39.887056"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "aperiam"], ["created_at", "2020-12-13 17:16:39.909928"], ["updated_at", "2020-12-13 17:16:39.909928"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "id"], ["created_at", "2020-12-13 17:16:39.912154"], ["updated_at", "2020-12-13 17:16:39.912154"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "facere corporis voluptatem"], ["price_cents", 416860], ["widget_status_id", 16], ["manufacturer_id", 13], ["created_at", "2020-12-13 17:16:39.916612"], ["updated_at", "2020-12-13 17:16:39.916612"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.0ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flux Capacitor"], ["price_cents", 735132], ["widget_status_id", 25], ["manufacturer_id", 17], ["created_at", "2020-12-13 17:16:39.919251"], ["updated_at", "2020-12-13 17:16:39.919251"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "156 Corkery Prairie"], ["zip", "51133-6825"], ["created_at", "2020-12-13 17:16:39.927734"], ["updated_at", "2020-12-13 17:16:39.927734"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jakubowski, Hudson and Roberts"], ["address_id", 20], ["created_at", "2020-12-13 17:16:39.932347"], ["updated_at", "2020-12-13 17:16:39.932347"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "consectetur"], ["created_at", "2020-12-13 17:16:39.938661"], ["updated_at", "2020-12-13 17:16:39.938661"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 640195], ["widget_status_id", 26], ["manufacturer_id", 18], ["created_at", "2020-12-13 17:16:39.969380"], ["updated_at", "2020-12-13 17:16:39.969380"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.6ms)[0m  [1m[33mUPDATE "widgets" SET "id" = $1, "updated_at" = $2 WHERE "widgets"."id" = $3[0m  [["id", 1234], ["updated_at", "2020-12-13 17:16:39.974778"], ["id", 11]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.4ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mWidget Load (1.0ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=729.53 view=666.24 db=10.04
  [1m[36mWidgetStatus Load (1.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mManufacturer Load (5.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=437.84 view=386.00 db=5.92
[Webpacker] Everything's up-to-date. Nothing to do
method=POST path=/widgets format=html controller=WidgetsController action=create status=200 duration=54.17 view=30.63 db=9.02
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=331.44 view=274.75 db=0.99
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Load (0.6ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1234 format=html controller=WidgetsController action=show status=200 duration=15.10 view=9.92 db=1.27
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Create (6.4ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 12300], ["widget_status_id", 18], ["manufacturer_id", 17], ["created_at", "2020-12-13 17:16:40.534690"], ["updated_at", "2020-12-13 17:16:40.534690"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 8.7ms
Delivered mail 5fd64c788e944_37e014c84996@4b5ffc51fd3c.mail (8.9ms)
Date: Sun, 13 Dec 2020 17:16:40 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64c788e944_37e014c84996@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c788d617_37e014c84844";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c788d617_37e014c84844
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Feest Inc


----==_mimepart_5fd64c788d617_37e014c84844
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Feest Inc

  </body>
</html>

----==_mimepart_5fd64c788d617_37e014c84844--

method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=73.51 view=0.00 db=10.59 location=http://www.example.com/widgets/10
  [1m[36mWidget Load (1.1ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/10 format=html controller=WidgetsController action=show status=200 duration=15.99 view=10.71 db=1.06
  [1m[36mWidget Load (1.1ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Load (0.5ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/8 format=html controller=WidgetsController action=show status=200 duration=146.83 view=133.09 db=0.95
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (3.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (12.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (69.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (75.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (65.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (61.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetsControllerTest: test_converts_dollars_to_cents_when_creating_widgets
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "964 Joye Lake"], ["zip", "18332"], ["created_at", "2020-12-13 17:17:16.179020"], ["updated_at", "2020-12-13 17:17:16.179020"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Borer Inc"], ["address_id", 16], ["created_at", "2020-12-13 17:17:16.185398"], ["updated_at", "2020-12-13 17:17:16.185398"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:16.197278"], ["updated_at", "2020-12-13 17:17:16.197278"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mWidget Create (1.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "New Widget"], ["price_cents", 12345], ["widget_status_id", 17], ["manufacturer_id", 14], ["created_at", "2020-12-13 17:17:16.240742"], ["updated_at", "2020-12-13 17:17:16.240742"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 7.6ms
Delivered mail 5fd64c9c3e8d4_3a6f12481683f@4b5ffc51fd3c.mail (21.6ms)
Date: Sun, 13 Dec 2020 17:17:16 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64c9c3e8d4_3a6f12481683f@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64c9c3dc8c_3a6f12481677a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64c9c3dc8c_3a6f12481677a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

New Widget
Borer Inc


----==_mimepart_5fd64c9c3dc8c_3a6f12481677a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    New Widget
Borer Inc

  </body>
</html>

----==_mimepart_5fd64c9c3dc8c_3a6f12481677a--

method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=60.48 view=0.00 db=6.87 location=http://www.example.com/widgets/9
  [1m[36mWidget Load (0.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (73.7ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (73.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (80.7ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (87.8ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
WidgetCreatorTest: test_name,_price,_and_manufacturer_are_required
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WidgetCreatorTest: test_price_cannot_be_0
-----------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "99983 Windler Inlet"], ["zip", "88049"], ["created_at", "2020-12-13 17:17:48.316428"], ["updated_at", "2020-12-13 17:17:48.316428"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cassin-Ritchie"], ["address_id", 21], ["created_at", "2019-12-13 17:17:47.937535"], ["updated_at", "2020-12-13 17:17:48.326374"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "409 Raeann Roads"], ["zip", "44146-4354"], ["created_at", "2020-12-13 17:17:48.337769"], ["updated_at", "2020-12-13 17:17:48.337769"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "suscipit"], ["created_at", "2020-12-13 17:17:48.349269"], ["updated_at", "2020-12-13 17:17:48.349269"]]
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ward-Batz"], ["address_id", 19], ["created_at", "2019-12-13 17:17:47.970055"], ["updated_at", "2020-12-13 17:17:48.348932"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.356318"], ["updated_at", "2020-12-13 17:17:48.356318"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "11807 Enda Terrace"], ["zip", "37475"], ["created_at", "2020-12-13 17:17:48.355858"], ["updated_at", "2020-12-13 17:17:48.355858"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "715 Grimes Views"], ["zip", "80618"], ["created_at", "2020-12-13 17:17:48.356588"], ["updated_at", "2020-12-13 17:17:48.356588"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Terry-West"], ["address_id", 17], ["created_at", "2019-12-13 17:17:47.970469"], ["updated_at", "2020-12-13 17:17:48.367031"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "repudiandae"], ["created_at", "2020-12-13 17:17:48.371325"], ["updated_at", "2020-12-13 17:17:48.371325"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Nitzsche-Howell"], ["address_id", 15], ["created_at", "2019-12-13 17:17:47.988042"], ["updated_at", "2020-12-13 17:17:48.370764"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.376583"], ["updated_at", "2020-12-13 17:17:48.376583"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "incidunt"], ["created_at", "2020-12-13 17:17:48.386607"], ["updated_at", "2020-12-13 17:17:48.386607"]]
  [1m[36mWidgetStatus Load (1.0ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.393083"], ["updated_at", "2020-12-13 17:17:48.393083"]]
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "autem"], ["created_at", "2020-12-13 17:17:48.392812"], ["updated_at", "2020-12-13 17:17:48.392812"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.399239"], ["updated_at", "2020-12-13 17:17:48.399239"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 28], ["manufacturer_id", 19], ["created_at", "2020-12-13 17:17:48.400618"], ["updated_at", "2020-12-13 17:17:48.400618"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
WidgetCreatorTest: test_price_cannot_be_more_than_10,000
--------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetCreatorTest: test_legacy_manufacturers_cannot_have_a_price_under_$100
---------------------------------------------------------------------------
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "57476 Casey Prairie"], ["zip", "86728-8825"], ["created_at", "2020-12-13 17:17:48.432282"], ["updated_at", "2020-12-13 17:17:48.432282"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "9798 Giuseppe Stravenue"], ["zip", "34098-1847"], ["created_at", "2020-12-13 17:17:48.434488"], ["updated_at", "2020-12-13 17:17:48.434488"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 19], ["manufacturer_id", 15], ["created_at", "2020-12-13 17:17:48.434615"], ["updated_at", "2020-12-13 17:17:48.434615"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Treutel-Kunze"], ["address_id", 22], ["created_at", "2019-12-13 17:17:48.426992"], ["updated_at", "2020-12-13 17:17:48.436568"]]
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Daugherty, Russel and Emmerich"], ["address_id", 20], ["created_at", "2019-12-13 17:17:48.431845"], ["updated_at", "2020-12-13 17:17:48.438903"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "autem"], ["created_at", "2020-12-13 17:17:48.445183"], ["updated_at", "2020-12-13 17:17:48.445183"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.452079"], ["updated_at", "2020-12-13 17:17:48.452079"]]
  [1m[36mWidget Load (0.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "amet"], ["created_at", "2020-12-13 17:17:48.450884"], ["updated_at", "2020-12-13 17:17:48.450884"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
WidgetCreatorTest: test_email_adming_staff_for_widgets_on_new_manufacturers_
----------------------------------------------------------------------------
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.462095"], ["updated_at", "2020-12-13 17:17:48.462095"]]
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "7324 Sawayn Drives"], ["zip", "37314-7973"], ["created_at", "2020-12-13 17:17:48.461120"], ["updated_at", "2020-12-13 17:17:48.461120"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "541 Kreiger River"], ["zip", "19669"], ["created_at", "2020-12-13 17:17:48.466607"], ["updated_at", "2020-12-13 17:17:48.466607"]]
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "6845 Napoleon Curve"], ["zip", "03800-5751"], ["created_at", "2020-12-13 17:17:48.468017"], ["updated_at", "2020-12-13 17:17:48.468017"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Huels Group"], ["address_id", 16], ["created_at", "2019-12-13 17:17:48.457350"], ["updated_at", "2020-12-13 17:17:48.468291"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Bartoletti-Rosenbaum"], ["address_id", 18], ["created_at", "2019-12-13 17:17:48.463538"], ["updated_at", "2020-12-13 17:17:48.471390"]]
  [1m[36mManufacturer Create (1.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Thiel, Rutherford and Lind"], ["address_id", 21], ["created_at", "2009-12-31 00:00:00"], ["updated_at", "2020-12-13 17:17:48.471863"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "odit"], ["created_at", "2020-12-13 17:17:48.474784"], ["updated_at", "2020-12-13 17:17:48.474784"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ut"], ["created_at", "2020-12-13 17:17:48.476552"], ["updated_at", "2020-12-13 17:17:48.476552"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.479033"], ["updated_at", "2020-12-13 17:17:48.479033"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:48.480854"], ["updated_at", "2020-12-13 17:17:48.480854"]]
  [1m[36mWidgetStatus Load (0.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mManufacturer Load (0.5ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "2208 Bernier Terrace"], ["zip", "97750-4089"], ["created_at", "2020-12-13 17:17:48.485650"], ["updated_at", "2020-12-13 17:17:48.485650"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 19], ["created_at", "2020-10-15 17:17:48.483839"], ["updated_at", "2020-12-13 17:17:48.490512"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.5ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mWidget Create (1.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 9900], ["widget_status_id", 21], ["manufacturer_id", 17], ["created_at", "2020-12-13 17:17:48.500820"], ["updated_at", "2020-12-13 17:17:48.500820"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (79.2ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (74.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (78.6ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (68.4ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
WidgetCreatorTest: test_price_cannot_be_more_than_10,000
--------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
WidgetCreatorTest: test_email_adming_staff_for_widgets_on_new_manufacturers_
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WidgetCreatorTest: test_price_cannot_be_0
-----------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "79336 Noe Turnpike"], ["zip", "67569-5748"], ["created_at", "2020-12-13 17:17:53.423574"], ["updated_at", "2020-12-13 17:17:53.423574"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "50445 Weston Plains"], ["zip", "66373"], ["created_at", "2020-12-13 17:17:53.429377"], ["updated_at", "2020-12-13 17:17:53.429377"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Walsh LLC"], ["address_id", 23], ["created_at", "2019-12-13 17:17:53.128266"], ["updated_at", "2020-12-13 17:17:53.434302"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "576 Gottlieb Light"], ["zip", "76247-4575"], ["created_at", "2020-12-13 17:17:53.436288"], ["updated_at", "2020-12-13 17:17:53.436288"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Morar, Spinka and Lesch"], ["address_id", 20], ["created_at", "2019-12-13 17:17:53.130475"], ["updated_at", "2020-12-13 17:17:53.439320"]]
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "82878 Sarina Isle"], ["zip", "92330-3211"], ["created_at", "2020-12-13 17:17:53.439432"], ["updated_at", "2020-12-13 17:17:53.439432"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Klocko, Upton and Kulas"], ["address_id", 22], ["created_at", "2019-12-13 17:17:53.130925"], ["updated_at", "2020-12-13 17:17:53.445780"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Stark and Sons"], ["address_id", 17], ["created_at", "2019-12-13 17:17:53.133452"], ["updated_at", "2020-12-13 17:17:53.449850"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "recusandae"], ["created_at", "2020-12-13 17:17:53.456183"], ["updated_at", "2020-12-13 17:17:53.456183"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.463337"], ["updated_at", "2020-12-13 17:17:53.463337"]]
  [1m[36mWidgetStatus Create (1.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "rerum"], ["created_at", "2020-12-13 17:17:53.462636"], ["updated_at", "2020-12-13 17:17:53.462636"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.469490"], ["updated_at", "2020-12-13 17:17:53.469490"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "vero"], ["created_at", "2020-12-13 17:17:53.471606"], ["updated_at", "2020-12-13 17:17:53.471606"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "42399 Cassin Shore"], ["zip", "92304-5430"], ["created_at", "2020-12-13 17:17:53.475691"], ["updated_at", "2020-12-13 17:17:53.475691"]]
  [1m[36mWidgetStatus Create (1.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "odit"], ["created_at", "2020-12-13 17:17:53.474301"], ["updated_at", "2020-12-13 17:17:53.474301"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.476746"], ["updated_at", "2020-12-13 17:17:53.476746"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 21], ["created_at", "2020-10-15 17:17:53.473845"], ["updated_at", "2020-12-13 17:17:53.479693"]]
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.480611"], ["updated_at", "2020-12-13 17:17:53.480611"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (1.0ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (1.0ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.1ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mManufacturer Load (1.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 9900], ["widget_status_id", 23], ["manufacturer_id", 19], ["created_at", "2020-12-13 17:17:53.516778"], ["updated_at", "2020-12-13 17:17:53.516778"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "98832 Altenwerth Brook"], ["zip", "00736-2870"], ["created_at", "2020-12-13 17:17:53.517826"], ["updated_at", "2020-12-13 17:17:53.517826"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
WidgetCreatorTest: test_name,_price,_and_manufacturer_are_required
------------------------------------------------------------------
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.5ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mManufacturer Create (1.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Durgan-Ziemann"], ["address_id", 24], ["created_at", "2019-12-13 17:17:53.511830"], ["updated_at", "2020-12-13 17:17:53.524652"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "3831 Beahan Highway"], ["zip", "30241"], ["created_at", "2020-12-13 17:17:53.528786"], ["updated_at", "2020-12-13 17:17:53.528786"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[36mManufacturer Create (1.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hansen-Prosacco"], ["address_id", 23], ["created_at", "2019-12-13 17:17:53.526661"], ["updated_at", "2020-12-13 17:17:53.533742"]]
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "eveniet"], ["created_at", "2020-12-13 17:17:53.532642"], ["updated_at", "2020-12-13 17:17:53.532642"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "est"], ["created_at", "2020-12-13 17:17:53.538863"], ["updated_at", "2020-12-13 17:17:53.538863"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "6475 Littel Divide"], ["zip", "19529-0819"], ["created_at", "2020-12-13 17:17:53.539755"], ["updated_at", "2020-12-13 17:17:53.539755"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.539755"], ["updated_at", "2020-12-13 17:17:53.539755"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.3ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Herman-Schaefer"], ["address_id", 18], ["created_at", "2019-12-13 17:17:53.537131"], ["updated_at", "2020-12-13 17:17:53.545098"]]
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.544497"], ["updated_at", "2020-12-13 17:17:53.544497"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.1ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "error"], ["created_at", "2020-12-13 17:17:53.550467"], ["updated_at", "2020-12-13 17:17:53.550467"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.555386"], ["updated_at", "2020-12-13 17:17:53.555386"]]
  [1m[36mWidget Create (2.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 34], ["manufacturer_id", 22], ["created_at", "2020-12-13 17:17:53.553524"], ["updated_at", "2020-12-13 17:17:53.553524"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.5ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mWidget Load (1.5ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Create (2.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 30], ["manufacturer_id", 18], ["created_at", "2020-12-13 17:17:53.564513"], ["updated_at", "2020-12-13 17:17:53.564513"]]
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetCreatorTest: test_legacy_manufacturers_cannot_have_a_price_under_$100
---------------------------------------------------------------------------
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mAddress Create (1.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4825 Gleichner Squares"], ["zip", "17769-4066"], ["created_at", "2020-12-13 17:17:53.574559"], ["updated_at", "2020-12-13 17:17:53.574559"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Moore-Buckridge"], ["address_id", 24], ["created_at", "2019-12-13 17:17:53.572376"], ["updated_at", "2020-12-13 17:17:53.579522"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "itaque"], ["created_at", "2020-12-13 17:17:53.584468"], ["updated_at", "2020-12-13 17:17:53.584468"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 54.0ms
Delivered mail 5fd64cc19078f_3f7612e81382@4b5ffc51fd3c.mail (8.4ms)
Date: Sun, 13 Dec 2020 17:17:53 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64cc19078f_3f7612e81382@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64cc189478_3f7612e81372";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64cc189478_3f7612e81372
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Cyberdine Systems


----==_mimepart_5fd64cc189478_3f7612e81372
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Cyberdine Systems

  </body>
</html>

----==_mimepart_5fd64cc189478_3f7612e81372--

  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:53.588591"], ["updated_at", "2020-12-13 17:17:53.588591"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "866 Daugherty Estate"], ["zip", "66921-1015"], ["created_at", "2020-12-13 17:17:53.625109"], ["updated_at", "2020-12-13 17:17:53.625109"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Larkin Inc"], ["address_id", 25], ["created_at", "2009-12-31 00:00:00"], ["updated_at", "2020-12-13 17:17:53.629659"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
FinanceMailer#high_priced_widget: processed outbound mail in 56.1ms
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
Delivered mail 5fd64cc19c6d8_3f7812e813860@4b5ffc51fd3c.mail (8.8ms)
Date: Sun, 13 Dec 2020 17:17:53 +0000
From: from@example.com
To: finance@example.com
Message-ID: <5fd64cc19c6d8_3f7812e813860@4b5ffc51fd3c.mail>
Subject: High priced widget
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64cc19b226_3f7812e81372a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64cc19b226_3f7812e81372a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt


----==_mimepart_5fd64cc19b226_3f7812e81372a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt

  </body>
</html>

----==_mimepart_5fd64cc19b226_3f7812e81372a--

  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (3.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (81.0ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[35m (74.1ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (75.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (84.3ms)[0m  [1m[35mTRUNCATE TABLE "manufacturers", "addresses", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
WidgetCreatorTest: test_email_adming_staff_for_widgets_on_new_manufacturers_
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
WidgetCreatorTest: test_name,_price,_and_manufacturer_are_required
------------------------------------------------------------------
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WidgetCreatorTest: test_price_cannot_be_0
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetCreatorTest: test_legacy_manufacturers_cannot_have_a_price_under_$100
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "46345 Shanell Oval"], ["zip", "39268"], ["created_at", "2020-12-13 17:17:59.726054"], ["updated_at", "2020-12-13 17:17:59.726054"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "72635 Dean Freeway"], ["zip", "29317"], ["created_at", "2020-12-13 17:17:59.732014"], ["updated_at", "2020-12-13 17:17:59.732014"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kihn-Gerlach"], ["address_id", 22], ["created_at", "2019-12-13 17:17:59.461174"], ["updated_at", "2020-12-13 17:17:59.738827"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Corwin-Goldner"], ["address_id", 19], ["created_at", "2019-12-13 17:17:59.468457"], ["updated_at", "2020-12-13 17:17:59.743254"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "956 Renner Ports"], ["zip", "70602"], ["created_at", "2020-12-13 17:17:59.755509"], ["updated_at", "2020-12-13 17:17:59.755509"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fugiat"], ["created_at", "2020-12-13 17:17:59.762120"], ["updated_at", "2020-12-13 17:17:59.762120"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "ut"], ["created_at", "2020-12-13 17:17:59.763704"], ["updated_at", "2020-12-13 17:17:59.763704"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "215 Fernando Estates"], ["zip", "70923"], ["created_at", "2020-12-13 17:17:59.764032"], ["updated_at", "2020-12-13 17:17:59.764032"]]
  [1m[36mManufacturer Create (2.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kautzer LLC"], ["address_id", 26], ["created_at", "2019-12-13 17:17:59.476484"], ["updated_at", "2020-12-13 17:17:59.765241"]]
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.767212"], ["updated_at", "2020-12-13 17:17:59.767212"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.768664"], ["updated_at", "2020-12-13 17:17:59.768664"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "390 Nadene Square"], ["zip", "95512"], ["created_at", "2020-12-13 17:17:59.773081"], ["updated_at", "2020-12-13 17:17:59.773081"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Wiegand-Collier"], ["address_id", 25], ["created_at", "2019-12-13 17:17:59.488252"], ["updated_at", "2020-12-13 17:17:59.774364"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 23], ["created_at", "2020-10-15 17:17:59.770535"], ["updated_at", "2020-12-13 17:17:59.778338"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "magni"], ["created_at", "2020-12-13 17:17:59.785221"], ["updated_at", "2020-12-13 17:17:59.785221"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.790791"], ["updated_at", "2020-12-13 17:17:59.790791"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.3ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quisquam"], ["created_at", "2020-12-13 17:17:59.796494"], ["updated_at", "2020-12-13 17:17:59.796494"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.801803"], ["updated_at", "2020-12-13 17:17:59.801803"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
WidgetCreatorTest: test_price_cannot_be_more_than_10,000
--------------------------------------------------------
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "8619 Turcotte Causeway"], ["zip", "42558-6320"], ["created_at", "2020-12-13 17:17:59.808723"], ["updated_at", "2020-12-13 17:17:59.808723"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Schroeder, Hodkiewicz and DuBuque"], ["address_id", 26], ["created_at", "2009-12-31 00:00:00"], ["updated_at", "2020-12-13 17:17:59.812754"]]
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "353 Stephen Trail"], ["zip", "72586"], ["created_at", "2020-12-13 17:17:59.812754"], ["updated_at", "2020-12-13 17:17:59.812754"]]
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidget Create (2.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 9900], ["widget_status_id", 25], ["manufacturer_id", 21], ["created_at", "2020-12-13 17:17:59.812367"], ["updated_at", "2020-12-13 17:17:59.812367"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hessel-Schroeder"], ["address_id", 20], ["created_at", "2019-12-13 17:17:59.810342"], ["updated_at", "2020-12-13 17:17:59.817123"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Load (0.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "qui"], ["created_at", "2020-12-13 17:17:59.822988"], ["updated_at", "2020-12-13 17:17:59.822988"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.827260"], ["updated_at", "2020-12-13 17:17:59.827260"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.2ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "69358 Windler Bridge"], ["zip", "29034-8994"], ["created_at", "2020-12-13 17:17:59.839236"], ["updated_at", "2020-12-13 17:17:59.839236"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mManufacturer Create (1.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hermiston and Sons"], ["address_id", 27], ["created_at", "2019-12-13 17:17:59.835518"], ["updated_at", "2020-12-13 17:17:59.844346"]]
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (2.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "nostrum"], ["created_at", "2020-12-13 17:17:59.851097"], ["updated_at", "2020-12-13 17:17:59.851097"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4295 Iris Falls"], ["zip", "25578"], ["created_at", "2020-12-13 17:17:59.852697"], ["updated_at", "2020-12-13 17:17:59.852697"]]
  [1m[36mManufacturer Load (0.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.856125"], ["updated_at", "2020-12-13 17:17:59.856125"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (0.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kuhic, Senger and Beer"], ["address_id", 21], ["created_at", "2019-12-13 17:17:59.849618"], ["updated_at", "2020-12-13 17:17:59.857795"]]
  [1m[36mWidgetStatus Load (0.5ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 32.4ms
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.2ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "modi"], ["created_at", "2020-12-13 17:17:59.862845"], ["updated_at", "2020-12-13 17:17:59.862845"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.867383"], ["updated_at", "2020-12-13 17:17:59.867383"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Delivered mail 5fd64cc7d34a5_40a812e8195b0@4b5ffc51fd3c.mail (8.4ms)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "85033 Jakubowski Meadows"], ["zip", "89729"], ["created_at", "2020-12-13 17:17:59.871807"], ["updated_at", "2020-12-13 17:17:59.871807"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.2ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Pagac, Kerluke and Toy"], ["address_id", 27], ["created_at", "2019-12-13 17:17:59.868772"], ["updated_at", "2020-12-13 17:17:59.878254"]]
  [1m[36mWidget Create (2.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 36], ["manufacturer_id", 21], ["created_at", "2020-12-13 17:17:59.878300"], ["updated_at", "2020-12-13 17:17:59.878300"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quia"], ["created_at", "2020-12-13 17:17:59.883928"], ["updated_at", "2020-12-13 17:17:59.883928"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Load (1.1ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:17:59.889015"], ["updated_at", "2020-12-13 17:17:59.889015"]]
Date: Sun, 13 Dec 2020 17:17:59 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64cc7d34a5_40a812e8195b0@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64cc7d2013_40a812e81947f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64cc7d2013_40a812e81947f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Cyberdine Systems


----==_mimepart_5fd64cc7d2013_40a812e81947f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Cyberdine Systems

  </body>
</html>

----==_mimepart_5fd64cc7d2013_40a812e81947f--

  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (1.0ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 38], ["manufacturer_id", 25], ["created_at", "2020-12-13 17:17:59.900876"], ["updated_at", "2020-12-13 17:17:59.900876"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (0.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
FinanceMailer#high_priced_widget: processed outbound mail in 47.4ms
Delivered mail 5fd64cc7eaf14_40a612e81952d@4b5ffc51fd3c.mail (7.0ms)
Date: Sun, 13 Dec 2020 17:17:59 +0000
From: from@example.com
To: finance@example.com
Message-ID: <5fd64cc7eaf14_40a612e81952d@4b5ffc51fd3c.mail>
Subject: High priced widget
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64cc7e44b4_40a612e81948b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64cc7e44b4_40a612e81948b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt


----==_mimepart_5fd64cc7e44b4_40a612e81948b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt

  </body>
</html>

----==_mimepart_5fd64cc7e44b4_40a612e81948b--

  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6009960348311478300)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateApiKeys (20210102000000)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "api_keys" ("id" bigserial primary key, "key" text NOT NULL, "client_name" text NOT NULL, "created_at" timestamptz NOT NULL, "deactivated_at" timestamptz)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON TABLE "api_keys" IS 'Holds all API keys for access to the API'[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMENT ON COLUMN "api_keys"."key" IS 'The actual key clients should use'[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON COLUMN "api_keys"."client_name" IS 'Name of the client who was assigned this key'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMENT ON COLUMN "api_keys"."created_at" IS 'When this key was created'[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMENT ON COLUMN "api_keys"."deactivated_at" IS 'When the key was deactivated. When present, this key is not valid.'[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_api_keys_on_key" ON "api_keys" ("key")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMENT ON INDEX "index_api_keys_on_key" IS 'API keys have to be unique or we don''t know who is accessing us'[0m
  [1m[35m (3.5ms)[0m  [1m[35m
        CREATE UNIQUE INDEX
          api_clients_have_only_one_active_key
        ON
          api_keys(client_name)
        WHERE
          (deactivated_at IS NULL)
      [0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210102000000"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(6009960348311478300)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (316.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test"[0m
  [1m[35m (134.3ms)[0m  [1m[35mCREATE DATABASE "widgets_test" ENCODING = 'utf8'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:18:59.754732"], ["updated_at", "2020-12-13 17:18:59.754732"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "60ac36766838edca488210ef04041d06625bedab"], ["created_at", "2020-12-13 17:18:59.761999"], ["updated_at", "2020-12-13 17:18:59.761999"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (75.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-0"[0m
  [1m[35m (85.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-3"[0m
  [1m[35m (84.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-1"[0m
  [1m[35m (77.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "widgets_test-2"[0m
  [1m[35m (298.2ms)[0m  [1m[35mCREATE DATABASE "widgets_test-0" ENCODING = 'utf8'[0m
  [1m[35m (293.3ms)[0m  [1m[35mCREATE DATABASE "widgets_test-3" ENCODING = 'utf8'[0m
  [1m[35m (300.8ms)[0m  [1m[35mCREATE DATABASE "widgets_test-1" ENCODING = 'utf8'[0m
  [1m[35m (295.3ms)[0m  [1m[35mCREATE DATABASE "widgets_test-2" ENCODING = 'utf8'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:19:00.717374"], ["updated_at", "2020-12-13 17:19:00.717374"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "60ac36766838edca488210ef04041d06625bedab"], ["created_at", "2020-12-13 17:19:00.731763"], ["updated_at", "2020-12-13 17:19:00.731763"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:19:00.729265"], ["updated_at", "2020-12-13 17:19:00.729265"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "60ac36766838edca488210ef04041d06625bedab"], ["created_at", "2020-12-13 17:19:00.741258"], ["updated_at", "2020-12-13 17:19:00.741258"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:19:00.742704"], ["updated_at", "2020-12-13 17:19:00.742704"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-12-13 17:19:00.750880"], ["updated_at", "2020-12-13 17:19:00.750880"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "60ac36766838edca488210ef04041d06625bedab"], ["created_at", "2020-12-13 17:19:00.768042"], ["updated_at", "2020-12-13 17:19:00.768042"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "60ac36766838edca488210ef04041d06625bedab"], ["created_at", "2020-12-13 17:19:00.772517"], ["updated_at", "2020-12-13 17:19:00.772517"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
ApiKeyTest: test_client_can_have_more_than_one_key_if_all_but_one_is_deactivated
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ApiKeyTest: test_client_cannot_have_more_than_one_active_key
------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.6ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at", "deactivated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["key", "db9d9904-a770-4645-81c9-4b8683a1b10f"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:00.807651"], ["deactivated_at", "2020-12-09 17:19:00.785541"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (0.9ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "16fffcb6-b7b2-4ba2-b0f5-08e296893cf0"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:00.814535"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.7ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "0f8e3ed8-cab5-4f52-86c4-28d4aec304f6"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:00.820043"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (2.4ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "f59907cf-5ec8-479b-a7b2-38c084dd5017"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:00.826034"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (70.3ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "api_keys", "addresses", "manufacturers", "widgets"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (73.5ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "api_keys", "addresses", "manufacturers", "widgets"[0m
  [1m[35m (70.7ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "api_keys", "addresses", "manufacturers", "widgets"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (72.0ms)[0m  [1m[35mTRUNCATE TABLE "api_keys", "addresses", "manufacturers", "widgets", "widget_statuses"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
Api::ContentNegotiationTest: test_a_non-JSON_Accept_header_gets_a_406
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
Api::V1::WidgetsTest: test_get_a_widget
---------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
Api::AuthenticationTest: test_without_an_API_key,_we_get_a_401
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
Api::ContentNegotiationTest: test_no_Accept_header_gets_a_406
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.5ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "3d044e71-7dd8-40f0-b669-b4a79fad41fd"], ["client_name", "Konopelski, Deckow and Wolff"], ["created_at", "2020-12-13 17:19:12.124717"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.6ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "a94d1693-fc67-4bca-af9f-413da1002094"], ["client_name", "Flatley-McLaughlin"], ["created_at", "2020-12-13 17:19:12.128461"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (2.3ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "6bba8a98-24c3-4998-a371-1226164ca448"], ["client_name", "Thompson and Sons"], ["created_at", "2020-12-13 17:19:12.152834"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "471 Howe View"], ["zip", "88418-0260"], ["created_at", "2020-12-13 17:19:12.178637"], ["updated_at", "2020-12-13 17:19:12.178637"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "83116 Everett Ferry"], ["zip", "82334-8470"], ["created_at", "2020-12-13 17:19:12.184332"], ["updated_at", "2020-12-13 17:19:12.184332"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "110 Goldner Parkways"], ["zip", "70406-1941"], ["created_at", "2020-12-13 17:19:12.184689"], ["updated_at", "2020-12-13 17:19:12.184689"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Konopelski, O'Hara and Schumm"], ["address_id", 1], ["created_at", "2020-12-13 17:19:12.187401"], ["updated_at", "2020-12-13 17:19:12.187401"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Dibbert LLC"], ["address_id", 1], ["created_at", "2020-12-13 17:19:12.193751"], ["updated_at", "2020-12-13 17:19:12.193751"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "VonRueden LLC"], ["address_id", 1], ["created_at", "2020-12-13 17:19:12.194555"], ["updated_at", "2020-12-13 17:19:12.194555"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "minima"], ["created_at", "2020-12-13 17:19:12.206735"], ["updated_at", "2020-12-13 17:19:12.206735"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "811 Tisa Ridge"], ["zip", "38240-2570"], ["created_at", "2020-12-13 17:19:12.210167"], ["updated_at", "2020-12-13 17:19:12.210167"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "possimus"], ["created_at", "2020-12-13 17:19:12.211848"], ["updated_at", "2020-12-13 17:19:12.211848"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "veniam"], ["created_at", "2020-12-13 17:19:12.213295"], ["updated_at", "2020-12-13 17:19:12.213295"]]
  [1m[36mWidget Create (1.8ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "ut voluptas sint"], ["price_cents", 758596], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:19:12.213078"], ["updated_at", "2020-12-13 17:19:12.213078"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "autem in reiciendis"], ["price_cents", 773601], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:19:12.217403"], ["updated_at", "2020-12-13 17:19:12.217403"]]
  [1m[36mWidget Create (1.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "blanditiis explicabo sit"], ["price_cents", 29396], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:19:12.218692"], ["updated_at", "2020-12-13 17:19:12.218692"]]
  [1m[36mManufacturer Create (1.8ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Wolff, Schinner and Dickens"], ["address_id", 1], ["created_at", "2020-12-13 17:19:12.218692"], ["updated_at", "2020-12-13 17:19:12.218692"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "deserunt"], ["created_at", "2020-12-13 17:19:12.236880"], ["updated_at", "2020-12-13 17:19:12.236880"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.8ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "sunt nostrum est"], ["price_cents", 4410], ["widget_status_id", 1], ["manufacturer_id", 1], ["created_at", "2020-12-13 17:19:12.242591"], ["updated_at", "2020-12-13 17:19:12.242591"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
method=GET path=/api/v1/widgets/1 format=json controller=Api::V1::WidgetsController action=show status=401 duration=14.40 view=3.15 db=0.00
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
Api::AuthenticationTest: test_with_a_deactivated_API_key,_we_get_a_401
----------------------------------------------------------------------
  [1m[36mApiKey Load (0.7ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "3d044e71-7dd8-40f0-b669-b4a79fad41fd"], ["LIMIT", 1]]
  [1m[36mApiKey Load (0.8ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "a94d1693-fc67-4bca-af9f-413da1002094"], ["LIMIT", 1]]
  [1m[36mWidget Load (0.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
method=GET path=/api/v1/widgets/1 format=text controller=Api::V1::WidgetsController action=show status=406 duration=38.28 view=0.00 db=1.26
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
method=GET path=/api/v1/widgets/1 format=json controller=Api::V1::WidgetsController action=show status=200 duration=49.13 view=6.76 db=2.70
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
Api::AuthenticationTest: test_with_a_non-existent_API_key,_we_get_a_401
-----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "4699 Gorczany Ville"], ["zip", "78316-7487"], ["created_at", "2020-12-13 17:19:12.302195"], ["updated_at", "2020-12-13 17:19:12.302195"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Ratke, McKenzie and Reinger"], ["address_id", 2], ["created_at", "2020-12-13 17:19:12.306472"], ["updated_at", "2020-12-13 17:19:12.306472"]]
  [1m[36mApiKey Load (0.7ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "6bba8a98-24c3-4998-a371-1226164ca448"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
method=GET path=/api/v1/widgets/1 format=html controller=Api::V1::WidgetsController action=show status=406 duration=38.03 view=0.00 db=1.20
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.6ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at", "deactivated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["key", "a1098a5e-9938-40cd-959a-08ead694faeb"], ["client_name", "Feil Inc"], ["created_at", "2020-12-13 17:19:12.310410"], ["deactivated_at", "2020-12-13 17:19:12.273057"]]
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "culpa"], ["created_at", "2020-12-13 17:19:12.312067"], ["updated_at", "2020-12-13 17:19:12.312067"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "delectus perferendis neque"], ["price_cents", 341237], ["widget_status_id", 2], ["manufacturer_id", 2], ["created_at", "2020-12-13 17:19:12.316214"], ["updated_at", "2020-12-13 17:19:12.316214"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "705 Danial Bridge"], ["zip", "15794"], ["created_at", "2020-12-13 17:19:12.319390"], ["updated_at", "2020-12-13 17:19:12.319390"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiKey Load (0.6ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "not real"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Beer Group"], ["address_id", 2], ["created_at", "2020-12-13 17:19:12.324339"], ["updated_at", "2020-12-13 17:19:12.324339"]]
method=GET path=/api/v1/widgets/2 format=json controller=Api::V1::WidgetsController action=show status=401 duration=6.09 view=3.03 db=0.60
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "qui"], ["created_at", "2020-12-13 17:19:12.330241"], ["updated_at", "2020-12-13 17:19:12.330241"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "quia ipsa vero"], ["price_cents", 58226], ["widget_status_id", 2], ["manufacturer_id", 2], ["created_at", "2020-12-13 17:19:12.334656"], ["updated_at", "2020-12-13 17:19:12.334656"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiKey Load (0.7ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "a1098a5e-9938-40cd-959a-08ead694faeb"], ["LIMIT", 1]]
method=GET path=/api/v1/widgets/2 format=json controller=Api::V1::WidgetsController action=show status=401 duration=4.84 view=0.33 db=1.36
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (5.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (107.4ms)[0m  [1m[35mTRUNCATE TABLE "api_keys", "manufacturers", "widgets", "widget_statuses", "addresses"[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (112.2ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "manufacturers", "widgets", "api_keys", "addresses"[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[35m (110.3ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "manufacturers", "widgets", "api_keys", "addresses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[35m (101.9ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "manufacturers", "widgets", "api_keys", "addresses"[0m
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
ApiKeyTest: test_client_can_have_more_than_one_key_if_all_but_one_is_deactivated
--------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ApiKeyTest: test_client_cannot_have_more_than_one_active_key
------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_with_CTA
------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ApplicationHelperTest: test_widget_rating_component_without_CTA
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (2.6ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at", "deactivated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["key", "554de073-4483-4886-af9a-0be055a59fee"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:52.212259"], ["deactivated_at", "2020-12-09 17:19:52.171902"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (2.0ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "fb9c639e-5322-4cb8-aca4-1d29c44d7f84"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:52.217013"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.8ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "db089e7a-ad1d-4da7-9314-db73186601dd"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:52.223837"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mApiKey Create (3.2ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "33af8013-85ce-403d-96c3-795bcee303bc"], ["client_name", "Cyberdyne"], ["created_at", "2020-12-13 17:19:52.227912"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ApplicationHelperTest: test_styled_widget_id
--------------------------------------------
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetsControllerTest: test_converts_dollars_to_cents_when_creating_widgets
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
---------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
Api::V1::WidgetsTest: test_get_a_widget
---------------------------------------
----------------------------------------------------
LintFactoriesTest: test_all_factories_can_be_created
----------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------
Api::ContentNegotiationTest: test_a_non-JSON_Accept_header_gets_a_406
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (1.2ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "27ce2d12-9d0a-4614-bb0f-6ae67fb6b580"], ["client_name", "Russel, Hilll and Farrell"], ["created_at", "2020-12-13 17:19:52.593378"]]
  [1m[36mAddress Create (2.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "9273 Roob Islands"], ["zip", "13466-1002"], ["created_at", "2020-12-13 17:19:52.593812"], ["updated_at", "2020-12-13 17:19:52.593812"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (0.9ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "8b3c7f37-63a2-4f89-b546-99b649194888"], ["client_name", "Waters-Dare"], ["created_at", "2020-12-13 17:19:52.604189"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "672 Gottlieb Mount"], ["zip", "21148"], ["created_at", "2020-12-13 17:19:52.635022"], ["updated_at", "2020-12-13 17:19:52.635022"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Create (2.3ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "1a1ac74e-982b-4481-9644-999130283043"], ["client_name", "Lynch Group"], ["created_at", "2020-12-13 17:19:52.645811"]]
  [1m[36mManufacturer Create (3.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Roberts LLC"], ["address_id", 3], ["created_at", "2020-12-13 17:19:52.647685"], ["updated_at", "2020-12-13 17:19:52.647685"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "7409 Auer Falls"], ["zip", "18149"], ["created_at", "2020-12-13 17:19:52.679823"], ["updated_at", "2020-12-13 17:19:52.679823"]]
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "39991 Julio Mews"], ["zip", "07797"], ["created_at", "2020-12-13 17:19:52.681364"], ["updated_at", "2020-12-13 17:19:52.681364"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "826 Schmeler Burg"], ["zip", "06831-1826"], ["created_at", "2020-12-13 17:19:52.681120"], ["updated_at", "2020-12-13 17:19:52.681120"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Stroman Group"], ["address_id", 4], ["created_at", "2020-12-13 17:19:52.689389"], ["updated_at", "2020-12-13 17:19:52.689389"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.0ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Zemlak Group"], ["address_id", 3], ["created_at", "2020-12-13 17:19:52.692277"], ["updated_at", "2020-12-13 17:19:52.692277"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Boehm-Hayes"], ["address_id", 2], ["created_at", "2020-12-13 17:19:52.697210"], ["updated_at", "2020-12-13 17:19:52.697210"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.5ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "magnam"], ["created_at", "2020-12-13 17:19:52.719288"], ["updated_at", "2020-12-13 17:19:52.719288"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "a"], ["created_at", "2020-12-13 17:19:52.724102"], ["updated_at", "2020-12-13 17:19:52.724102"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:52.727289"], ["updated_at", "2020-12-13 17:19:52.727289"]]
  [1m[36mWidget Create (3.4ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "nisi rerum et"], ["price_cents", 163475], ["widget_status_id", 2], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:19:52.727988"], ["updated_at", "2020-12-13 17:19:52.727988"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (3.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "vel et quidem"], ["price_cents", 219475], ["widget_status_id", 3], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:19:52.733059"], ["updated_at", "2020-12-13 17:19:52.733059"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quas"], ["created_at", "2020-12-13 17:19:52.737142"], ["updated_at", "2020-12-13 17:19:52.737142"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "101 Ingrid Plaza"], ["zip", "26525-3963"], ["created_at", "2020-12-13 17:19:52.737749"], ["updated_at", "2020-12-13 17:19:52.737749"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
Api::ContentNegotiationTest: test_no_Accept_header_gets_a_406
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hegmann, Rau and Ratke"], ["address_id", 3], ["created_at", "2020-12-13 17:19:52.752068"], ["updated_at", "2020-12-13 17:19:52.752068"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "commodi"], ["created_at", "2020-12-13 17:19:52.786321"], ["updated_at", "2020-12-13 17:19:52.786321"]]
  [1m[36mApiKey Create (1.0ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["key", "132937e4-824a-4d27-91ee-919a1152da2b"], ["client_name", "Schoen, Bernier and Ryan"], ["created_at", "2020-12-13 17:19:52.787884"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (4.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "nulla ut laudantium"], ["price_cents", 335915], ["widget_status_id", 3], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:19:52.795435"], ["updated_at", "2020-12-13 17:19:52.795435"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.2ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "3738 Ai Glens"], ["zip", "34099"], ["created_at", "2020-12-13 17:19:52.799733"], ["updated_at", "2020-12-13 17:19:52.799733"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jenkins, Graham and Huel"], ["address_id", 5], ["created_at", "2020-12-13 17:19:52.806746"], ["updated_at", "2020-12-13 17:19:52.806746"]]
  [1m[36mApiKey Load (1.1ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "27ce2d12-9d0a-4614-bb0f-6ae67fb6b580"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.3ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "est"], ["created_at", "2020-12-13 17:19:52.813185"], ["updated_at", "2020-12-13 17:19:52.813185"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "rerum harum itaque"], ["price_cents", 473114], ["widget_status_id", 4], ["manufacturer_id", 4], ["created_at", "2020-12-13 17:19:52.822123"], ["updated_at", "2020-12-13 17:19:52.822123"]]
  [1m[36mManufacturer Load (1.2ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (4.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "New Widget"], ["price_cents", 12345], ["widget_status_id", 2], ["manufacturer_id", 2], ["created_at", "2020-12-13 17:19:52.833142"], ["updated_at", "2020-12-13 17:19:52.833142"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (1.8ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
method=GET path=/api/v1/widgets/3 format=json controller=Api::V1::WidgetsController action=show status=200 duration=86.95 view=12.06 db=4.32
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
Api::AuthenticationTest: test_with_a_non-existent_API_key,_we_get_a_401
-----------------------------------------------------------------------
method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=133.04 view=0.00 db=15.09 location=http://www.example.com/widgets/2
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "334 Rodrigo Road"], ["zip", "27107"], ["created_at", "2020-12-13 17:19:52.899336"], ["updated_at", "2020-12-13 17:19:52.899336"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Load (2.0ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mManufacturer Create (2.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Beatty Group"], ["address_id", 4], ["created_at", "2020-12-13 17:19:52.909433"], ["updated_at", "2020-12-13 17:19:52.909433"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
Api::AuthenticationTest: test_with_a_deactivated_API_key,_we_get_a_401
----------------------------------------------------------------------
  [1m[36mWidgetStatus Create (2.6ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quia"], ["created_at", "2020-12-13 17:19:52.921676"], ["updated_at", "2020-12-13 17:19:52.921676"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "sint odit est"], ["price_cents", 917089], ["widget_status_id", 4], ["manufacturer_id", 4], ["created_at", "2020-12-13 17:19:52.935522"], ["updated_at", "2020-12-13 17:19:52.935522"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mApiKey Load (1.5ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "not real"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
method=GET path=/api/v1/widgets/4 format=json controller=Api::V1::WidgetsController action=show status=401 duration=10.10 view=4.56 db=1.50
  [1m[36mApiKey Create (2.6ms)[0m  [1m[32mINSERT INTO "api_keys" ("key", "client_name", "created_at", "deactivated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["key", "94cb27d3-918d-4725-96d5-300478f2b875"], ["client_name", "Hayes, Bogan and Schroeder"], ["created_at", "2020-12-13 17:19:52.952103"], ["deactivated_at", "2020-12-13 17:19:52.929594"]]
  [1m[36mApiKey Load (1.3ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "1a1ac74e-982b-4481-9644-999130283043"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
method=GET path=/api/v1/widgets/3 format=text controller=Api::V1::WidgetsController action=show status=406 duration=24.10 view=0.00 db=2.19
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
Api::AuthenticationTest: test_without_an_API_key,_we_get_a_401
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mApiKey Load (1.1ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "132937e4-824a-4d27-91ee-919a1152da2b"], ["LIMIT", 1]]
  [1m[36mAddress Create (1.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "86219 Little Road"], ["zip", "29097-5118"], ["created_at", "2020-12-13 17:19:52.964705"], ["updated_at", "2020-12-13 17:19:52.964705"]]
method=GET path=/api/v1/widgets/3 format=html controller=Api::V1::WidgetsController action=show status=406 duration=26.41 view=0.00 db=2.18
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
WidgetTest: test_when_name_is_just_a_lot_of_spaces,_it's_normalized_to_nil
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "7160 Schiller Manor"], ["zip", "40902-9271"], ["created_at", "2020-12-13 17:19:52.971733"], ["updated_at", "2020-12-13 17:19:52.971733"]]
  [1m[36mManufacturer Create (1.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Koelpin, McClure and Krajcik"], ["address_id", 3], ["created_at", "2020-12-13 17:19:52.972801"], ["updated_at", "2020-12-13 17:19:52.972801"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "1343 King Union"], ["zip", "46352"], ["created_at", "2020-12-13 17:19:52.977573"], ["updated_at", "2020-12-13 17:19:52.977573"]]
  [1m[36mManufacturer Create (1.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Barton LLC"], ["address_id", 5], ["created_at", "2020-12-13 17:19:52.979122"], ["updated_at", "2020-12-13 17:19:52.979122"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
WidgetTest: test_when_the_name_an_empty_string,_it's_normalized_to_nil
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "fuga"], ["created_at", "2020-12-13 17:19:52.981115"], ["updated_at", "2020-12-13 17:19:52.981115"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "explicabo"], ["created_at", "2020-12-13 17:19:52.986826"], ["updated_at", "2020-12-13 17:19:52.986826"]]
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "McGlynn-Carter"], ["address_id", 4], ["created_at", "2020-12-13 17:19:52.985758"], ["updated_at", "2020-12-13 17:19:52.985758"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.3ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "vero vitae et"], ["price_cents", 3047], ["widget_status_id", 3], ["manufacturer_id", 3], ["created_at", "2020-12-13 17:19:52.989095"], ["updated_at", "2020-12-13 17:19:52.989095"]]
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "700 Lakin Mill"], ["zip", "59144-1142"], ["created_at", "2020-12-13 17:19:52.989623"], ["updated_at", "2020-12-13 17:19:52.989623"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.7ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "reprehenderit laudantium et"], ["price_cents", 934423], ["widget_status_id", 5], ["manufacturer_id", 5], ["created_at", "2020-12-13 17:19:52.992983"], ["updated_at", "2020-12-13 17:19:52.992983"]]
  [1m[36mWidgetStatus Create (1.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "voluptates"], ["created_at", "2020-12-13 17:19:52.993282"], ["updated_at", "2020-12-13 17:19:52.993282"]]
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kovacek and Sons"], ["address_id", 6], ["created_at", "2020-12-13 17:19:52.995228"], ["updated_at", "2020-12-13 17:19:52.995228"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
method=GET path=/api/v1/widgets/5 format=json controller=Api::V1::WidgetsController action=show status=401 duration=1.56 view=0.51 db=0.00
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "quidem hic deleniti"], ["price_cents", 144340], ["widget_status_id", 4], ["manufacturer_id", 4], ["created_at", "2020-12-13 17:19:53.003221"], ["updated_at", "2020-12-13 17:19:53.003221"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "dolor"], ["created_at", "2020-12-13 17:19:53.004332"], ["updated_at", "2020-12-13 17:19:53.004332"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mApiKey Load (1.9ms)[0m  [1m[34mSELECT "api_keys".* FROM "api_keys" WHERE "api_keys"."key" = $1 AND "api_keys"."deactivated_at" IS NULL LIMIT $2[0m  [["key", "94cb27d3-918d-4725-96d5-300478f2b875"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
WidgetTest: test_valid_prices_do_not_trigger_the_DB_constraint
--------------------------------------------------------------
  [1m[36mWidget Create (1.8ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "ullam rem earum"], ["price_cents", 169822], ["widget_status_id", 5], ["manufacturer_id", 5], ["created_at", "2020-12-13 17:19:53.012279"], ["updated_at", "2020-12-13 17:19:53.012279"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
WidgetTest: test_negative_prices_do_trigger_the_DB_constraint
-------------------------------------------------------------
method=GET path=/api/v1/widgets/3 format=json controller=Api::V1::WidgetsController action=show status=401 duration=11.54 view=3.46 db=1.89
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "58695 Keebler Flat"], ["zip", "13224"], ["created_at", "2020-12-13 17:19:53.021018"], ["updated_at", "2020-12-13 17:19:53.021018"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "85835 Mafalda Mount"], ["zip", "21570-9676"], ["created_at", "2020-12-13 17:19:53.025645"], ["updated_at", "2020-12-13 17:19:53.025645"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
----------------------------------------------------------------------------
WidgetCreatorTest: test_email_adming_staff_for_widgets_on_new_manufacturers_
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
--------------------------------------------------------------------------
WidgetCreatorTest: test_finance_is_notified_for_widgets_priced_over_$7,500
--------------------------------------------------------------------------
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Morissette and Sons"], ["address_id", 6], ["created_at", "2020-12-13 17:19:53.030360"], ["updated_at", "2020-12-13 17:19:53.030360"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Leuschke-Feeney"], ["address_id", 5], ["created_at", "2020-12-13 17:19:53.034789"], ["updated_at", "2020-12-13 17:19:53.034789"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "6883 Lorelei Glens"], ["zip", "30504"], ["created_at", "2020-12-13 17:19:53.037291"], ["updated_at", "2020-12-13 17:19:53.037291"]]
  [1m[36mWidgetStatus Create (0.7ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "non"], ["created_at", "2020-12-13 17:19:53.038174"], ["updated_at", "2020-12-13 17:19:53.038174"]]
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "2153 McGlynn Radial"], ["zip", "65816"], ["created_at", "2020-12-13 17:19:53.038821"], ["updated_at", "2020-12-13 17:19:53.038821"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "tempore"], ["created_at", "2020-12-13 17:19:53.042278"], ["updated_at", "2020-12-13 17:19:53.042278"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hintz Group"], ["address_id", 4], ["created_at", "2019-12-13 17:19:53.033823"], ["updated_at", "2020-12-13 17:19:53.043234"]]
  [1m[36mWidget Create (1.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "omnis voluptatem iste"], ["price_cents", 46259], ["widget_status_id", 6], ["manufacturer_id", 6], ["created_at", "2020-12-13 17:19:53.043383"], ["updated_at", "2020-12-13 17:19:53.043383"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Daugherty and Sons"], ["address_id", 7], ["created_at", "2019-12-13 17:19:53.035089"], ["updated_at", "2020-12-13 17:19:53.044746"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.3ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", 4500], ["id", 6]]
  [1m[36mWidget Create (1.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "omnis nihil vel"], ["price_cents", 967022], ["widget_status_id", 5], ["manufacturer_id", 5], ["created_at", "2020-12-13 17:19:53.048210"], ["updated_at", "2020-12-13 17:19:53.048210"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "occaecati"], ["created_at", "2020-12-13 17:19:53.050249"], ["updated_at", "2020-12-13 17:19:53.050249"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "corporis"], ["created_at", "2020-12-13 17:19:53.052359"], ["updated_at", "2020-12-13 17:19:53.052359"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------
WidgetCreatorTest: test_widget_names_must_be_5_characters_or_greater
--------------------------------------------------------------------
  [1m[36mWidget Update (3.1ms)[0m  [1m[33mUPDATE "widgets" SET "price_cents" = $1 WHERE "widgets"."id" = $2[0m  [["price_cents", -4500], ["id", 5]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.058108"], ["updated_at", "2020-12-13 17:19:53.058108"]]
  [1m[36mWidgetStatus Create (0.9ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.059720"], ["updated_at", "2020-12-13 17:19:53.059720"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------
WidgetCreatorTest: test_widgets_have_a_default_status_of_'Fresh'
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "1579 Ward Inlet"], ["zip", "15375-5643"], ["created_at", "2020-12-13 17:19:53.062439"], ["updated_at", "2020-12-13 17:19:53.062439"]]
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.8ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Keebler LLC"], ["address_id", 7], ["created_at", "2019-12-13 17:19:53.059062"], ["updated_at", "2020-12-13 17:19:53.068276"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "634 Dominique Divide"], ["zip", "00774"], ["created_at", "2020-12-13 17:19:53.071019"], ["updated_at", "2020-12-13 17:19:53.071019"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "autem"], ["created_at", "2020-12-13 17:19:53.075931"], ["updated_at", "2020-12-13 17:19:53.075931"]]
  [1m[36mWidget Create (1.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 750001], ["widget_status_id", 7], ["manufacturer_id", 6], ["created_at", "2020-12-13 17:19:53.077901"], ["updated_at", "2020-12-13 17:19:53.077901"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.2ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Davis, Reilly and Brown"], ["address_id", 6], ["created_at", "2019-12-13 17:19:53.067337"], ["updated_at", "2020-12-13 17:19:53.077539"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "989 Rochel Mission"], ["zip", "44555"], ["created_at", "2020-12-13 17:19:53.081910"], ["updated_at", "2020-12-13 17:19:53.081910"]]
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.082908"], ["updated_at", "2020-12-13 17:19:53.082908"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (1.1ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "et"], ["created_at", "2020-12-13 17:19:53.085038"], ["updated_at", "2020-12-13 17:19:53.085038"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.091032"], ["updated_at", "2020-12-13 17:19:53.091032"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cyberdine Systems"], ["address_id", 5], ["created_at", "2020-10-15 17:19:53.063827"], ["updated_at", "2020-12-13 17:19:53.092404"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.9ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (3.6ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.6ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mWidget Create (1.5ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 9900], ["widget_status_id", 5], ["manufacturer_id", 5], ["created_at", "2020-12-13 17:19:53.106888"], ["updated_at", "2020-12-13 17:19:53.106888"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.1ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Create (5.1ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 100000], ["widget_status_id", 7], ["manufacturer_id", 6], ["created_at", "2020-12-13 17:19:53.114934"], ["updated_at", "2020-12-13 17:19:53.114934"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Load (0.6ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WidgetCreatorTest: test_price_cannot_be_0
-----------------------------------------
FinanceMailer#high_priced_widget: processed outbound mail in 35.1ms
  [1m[36mWidget Load (1.0ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
WidgetCreatorTest: test_legacy_manufacturers_cannot_have_a_price_under_$100
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "656 Russ Lake"], ["zip", "93449-1451"], ["created_at", "2020-12-13 17:19:53.143031"], ["updated_at", "2020-12-13 17:19:53.143031"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mManufacturer Create (1.3ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Goyette-Haag"], ["address_id", 8], ["created_at", "2019-12-13 17:19:53.127991"], ["updated_at", "2020-12-13 17:19:53.153567"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Delivered mail 5fd64d3922754_4b6d12e8-3e3@4b5ffc51fd3c.mail (37.7ms)
Date: Sun, 13 Dec 2020 17:19:53 +0000
From: from@example.com
To: finance@example.com
Message-ID: <5fd64d3922754_4b6d12e8-3e3@4b5ffc51fd3c.mail>
Subject: High priced widget
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64d391d39b_4b6d12e8-456";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64d391d39b_4b6d12e8-456
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

A new high-priced widget has been created!

Stembolt
by Daugherty and Sons

Price: $7,500.00


----==_mimepart_5fd64d391d39b_4b6d12e8-456
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <article style="padding: 0.5rem;
                font-family: helvetica, sans-serif">
  <table style="width: 100%;">
    <tr>
      <td colspan="2" style="border-bottom: solid thin black;">
        <p style="padding-left: 0.25rem;">
        A new high-priced widget has been created!
        </p>
      </td>
    </tr>
    <tr>
      <td colspan="2" style="padding: 0.5rem;">
        &nbsp;
      </td>
    </tr>
    <tr>
      <td>
        <div style="font-size: 2.8rem; margin-bottom: 0.5rem;">
          Stembolt
          <span style="font-size: 2.2rem">
            #<span style="font-family: monospace">5</span>
          </span>
        </div>
        <div style="font-size: 1.3rem;">
          Daugherty and Sons
        </div>
      </td>
      <td style="vertical-align: top; text-align: right">
        <div style="font-size: 2.8rem;
                    margin-bottom: 0.25rem;
                    font-weight: bold">
          $7,500.00
        </div>
      </td>
    </tr>
  </table>
</article>

  </body>
</html>

----==_mimepart_5fd64d391d39b_4b6d12e8-456--

  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (0.8ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "et"], ["created_at", "2020-12-13 17:19:53.164790"], ["updated_at", "2020-12-13 17:19:53.164790"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (7.0ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "3139 Runolfsson Forges"], ["zip", "36002"], ["created_at", "2020-12-13 17:19:53.167276"], ["updated_at", "2020-12-13 17:19:53.167276"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.179247"], ["updated_at", "2020-12-13 17:19:53.179247"]]
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Hills LLC"], ["address_id", 7], ["created_at", "2019-12-13 17:19:53.149872"], ["updated_at", "2020-12-13 17:19:53.179135"]]
AdminMailer#new_widget_from_new_manufacturer: processed outbound mail in 48.5ms
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
WidgetCreatorTest: test_name,_price,_and_manufacturer_are_required
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.0ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "illum"], ["created_at", "2020-12-13 17:19:53.192112"], ["updated_at", "2020-12-13 17:19:53.192112"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "23813 Harland Circles"], ["zip", "89269-3495"], ["created_at", "2020-12-13 17:19:53.208251"], ["updated_at", "2020-12-13 17:19:53.208251"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.2ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.204928"], ["updated_at", "2020-12-13 17:19:53.204928"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
WidgetCreatorTest: test_price_cannot_be_more_than_10,000
--------------------------------------------------------
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kassulke-Emmerich"], ["address_id", 8], ["created_at", "2019-12-13 17:19:53.190850"], ["updated_at", "2020-12-13 17:19:53.218791"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Delivered mail 5fd64d3930f90_4b6712e8-3d7@4b5ffc51fd3c.mail (39.6ms)
Date: Sun, 13 Dec 2020 17:19:53 +0000
From: from@example.com
To: admin@example.com
Message-ID: <5fd64d3930f90_4b6712e8-3d7@4b5ffc51fd3c.mail>
Subject: New widget from new manufacturer
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5fd64d3929ee5_4b6712e8-4af";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5fd64d3929ee5_4b6712e8-4af
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Stembolt
Cyberdine Systems


----==_mimepart_5fd64d3929ee5_4b6712e8-4af
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    Stembolt
Cyberdine Systems

  </body>
</html>

----==_mimepart_5fd64d3929ee5_4b6712e8-4af--

  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "sed"], ["created_at", "2020-12-13 17:19:53.227784"], ["updated_at", "2020-12-13 17:19:53.227784"]]
  [1m[36mAddress Create (0.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "661 Bernhard Stream"], ["zip", "86958-4263"], ["created_at", "2020-12-13 17:19:53.233816"], ["updated_at", "2020-12-13 17:19:53.233816"]]
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "81964 Dannie Lodge"], ["zip", "79085"], ["created_at", "2020-12-13 17:19:53.232890"], ["updated_at", "2020-12-13 17:19:53.232890"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Gislason, Stanton and Dibbert"], ["address_id", 8], ["created_at", "2009-12-31 00:00:00"], ["updated_at", "2020-12-13 17:19:53.238175"]]
  [1m[36mManufacturer Create (1.6ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Braun, Sauer and Pouros"], ["address_id", 9], ["created_at", "2019-12-13 17:19:53.220829"], ["updated_at", "2020-12-13 17:19:53.240454"]]
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.238747"], ["updated_at", "2020-12-13 17:19:53.238747"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mWidgetStatus Load (1.1ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "aut"], ["created_at", "2020-12-13 17:19:53.247685"], ["updated_at", "2020-12-13 17:19:53.247685"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.4ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:19:53.254163"], ["updated_at", "2020-12-13 17:19:53.254163"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Load (1.1ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "widget_statuses" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "manufacturers" DISABLE TRIGGER ALL;ALTER TABLE "widgets" DISABLE TRIGGER ALL;ALTER TABLE "api_keys" DISABLE TRIGGER ALL;ALTER TABLE "addresses" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (112.4ms)[0m  [1m[35mTRUNCATE TABLE "api_keys", "manufacturers", "widgets", "widget_statuses", "addresses"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (106.4ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "manufacturers", "widgets", "api_keys", "addresses"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (129.4ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "manufacturers", "widgets", "api_keys", "addresses"[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL[0m
  [1m[35m (125.1ms)[0m  [1m[35mTRUNCATE TABLE "widget_statuses", "manufacturers", "widgets", "api_keys", "addresses"[0m
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "widget_statuses" ENABLE TRIGGER ALL;ALTER TABLE "manufacturers" ENABLE TRIGGER ALL;ALTER TABLE "widgets" ENABLE TRIGGER ALL;ALTER TABLE "addresses" ENABLE TRIGGER ALL;ALTER TABLE "api_keys" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
RateWidgetsTest: test_rating_a_widget_shows_our_rating_inline
-------------------------------------------------------------
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
ViewWidgetTest: test_we_can_see_a_list_of_widgets_and_choose_one_to_view
------------------------------------------------------------------------
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CreateWidgetTest: test_we_can_see_validation_errors
---------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CreateWidgetTest: test_we_can_create_a_widget
---------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.1ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:20:01.151170"], ["updated_at", "2020-12-13 17:20:01.151170"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (4.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Fresh"], ["created_at", "2020-12-13 17:20:01.163508"], ["updated_at", "2020-12-13 17:20:01.163508"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "89383 Porfirio Key"], ["zip", "27450-5566"], ["created_at", "2020-12-13 17:20:01.502699"], ["updated_at", "2020-12-13 17:20:01.502699"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (3.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Howe, Moore and Jaskolski"], ["address_id", 10], ["created_at", "2020-12-13 17:20:01.520042"], ["updated_at", "2020-12-13 17:20:01.520042"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (2.8ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "556 Ronny Landing"], ["zip", "30341"], ["created_at", "2020-12-13 17:20:01.534701"], ["updated_at", "2020-12-13 17:20:01.534701"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (2.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "assumenda"], ["created_at", "2020-12-13 17:20:01.551131"], ["updated_at", "2020-12-13 17:20:01.551131"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.9ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Huels, Halvorson and Hills"], ["address_id", 9], ["created_at", "2020-12-13 17:20:01.557862"], ["updated_at", "2020-12-13 17:20:01.557862"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (4.6ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "et est asperiores"], ["price_cents", 731154], ["widget_status_id", 13], ["manufacturer_id", 10], ["created_at", "2020-12-13 17:20:01.560522"], ["updated_at", "2020-12-13 17:20:01.560522"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "71957 Borer Ways"], ["zip", "10982-1800"], ["created_at", "2020-12-13 17:20:01.566614"], ["updated_at", "2020-12-13 17:20:01.566614"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (2.5ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Reinger, Kub and Kovacek"], ["address_id", 9], ["created_at", "2020-12-13 17:20:01.577723"], ["updated_at", "2020-12-13 17:20:01.577723"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.4ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "tenetur"], ["created_at", "2020-12-13 17:20:01.584382"], ["updated_at", "2020-12-13 17:20:01.584382"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.9ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "64853 Irwin Park"], ["zip", "99409-9463"], ["created_at", "2020-12-13 17:20:01.586881"], ["updated_at", "2020-12-13 17:20:01.586881"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.4ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Nolan-Nader"], ["address_id", 10], ["created_at", "2020-12-13 17:20:01.591958"], ["updated_at", "2020-12-13 17:20:01.591958"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWidget Create (2.9ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Flux Capacitor"], ["price_cents", 497931], ["widget_status_id", 10], ["manufacturer_id", 9], ["created_at", "2020-12-13 17:20:01.591085"], ["updated_at", "2020-12-13 17:20:01.591085"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street", "zip", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["street", "6851 Kunze Radial"], ["zip", "42956"], ["created_at", "2020-12-13 17:20:01.601819"], ["updated_at", "2020-12-13 17:20:01.601819"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Create (1.1ms)[0m  [1m[32mINSERT INTO "manufacturers" ("name", "address_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Renner-Fahey"], ["address_id", 10], ["created_at", "2020-12-13 17:20:01.608130"], ["updated_at", "2020-12-13 17:20:01.608130"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidgetStatus Create (1.0ms)[0m  [1m[32mINSERT INTO "widget_statuses" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "quibusdam"], ["created_at", "2020-12-13 17:20:01.614453"], ["updated_at", "2020-12-13 17:20:01.614453"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Create (1.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 517590], ["widget_status_id", 11], ["manufacturer_id", 10], ["created_at", "2020-12-13 17:20:01.619508"], ["updated_at", "2020-12-13 17:20:01.619508"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWidget Update (1.6ms)[0m  [1m[33mUPDATE "widgets" SET "id" = $1, "updated_at" = $2 WHERE "widgets"."id" = $3[0m  [["id", 1234], ["updated_at", "2020-12-13 17:20:01.625123"], ["id", 8]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (1.2ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mManufacturer Load (1.7ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
  [1m[36mWidget Load (1.5ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=703.48 view=637.47 db=10.09
  [1m[36mWidgetStatus Load (0.7ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets format=html controller=WidgetsController action=index status=200 duration=294.07 view=269.71 db=1.47
  [1m[36mManufacturer Load (0.8ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers"[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=POST path=/widgets format=html controller=WidgetsController action=create status=200 duration=30.19 view=18.13 db=2.22
  [1m[36mWidget Load (0.8ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/new format=html controller=WidgetsController action=new status=200 duration=351.98 view=313.07 db=7.35
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/1234 format=html controller=WidgetsController action=show status=200 duration=15.78 view=10.35 db=1.54
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidgetStatus Load (1.2ms)[0m  [1m[34mSELECT "widget_statuses".* FROM "widget_statuses" WHERE "widget_statuses"."name" = $1 LIMIT $2[0m  [["name", "Fresh"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mManufacturer Load (0.9ms)[0m  [1m[34mSELECT "manufacturers".* FROM "manufacturers" WHERE "manufacturers"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mWidget Create (2.2ms)[0m  [1m[32mINSERT INTO "widgets" ("name", "price_cents", "widget_status_id", "manufacturer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "Stembolt"], ["price_cents", 12300], ["widget_status_id", 10], ["manufacturer_id", 9], ["created_at", "2020-12-13 17:20:02.136870"], ["updated_at", "2020-12-13 17:20:02.136870"]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
method=POST path=/widgets format=html controller=WidgetsController action=create status=302 duration=30.18 view=0.00 db=13.48 location=http://www.example.com/widgets/6
  [1m[36mWidget Load (1.0ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/6 format=html controller=WidgetsController action=show status=200 duration=13.48 view=8.61 db=0.98
  [1m[36mWidget Load (0.9ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" ORDER BY "widgets"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mWidget Load (0.7ms)[0m  [1m[34mSELECT "widgets".* FROM "widgets" WHERE "widgets"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
method=GET path=/widgets/7 format=html controller=WidgetsController action=show status=200 duration=146.09 view=134.22 db=1.38
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
